# IP Addressing: IPv6 Deep-Dive (ржЖржЗржкрж┐ ржнрж╛рж░рзНрж╕ржи рзм)

ржЗржирзНржЯрж╛рж░ржирзЗржЯрзЗрж░ ржХрзНрж░ржоржмрж░рзНржзржорж╛ржи ржкрзНрж░рж╕рж╛рж░рзЗрж░ ржлрж▓рзЗ IPv4-ржПрж░ рзк.рзй ржмрж┐рж▓рж┐рзЯржи ржЖржЗржкрж┐ рж╢рзЗрж╖ рж╣рзЯрзЗ ржЧрзЗржЫрзЗред ржПржЗ рж╕ржорж╕рзНржпрж╛ рж╕ржорж╛ржзрж╛ржирзЗрж░ ржЬржирзНржп ржПржмржВ ржЖрж░ржУ ржЖржзрзБржирж┐ржХ ржУ рж╕рж┐ржХрж┐ржЙрж░ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХрж┐ржВ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рждрзЗ **IPv6 (Internet Protocol version 6)** рждрзИрж░рж┐ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗред

---

## рзз. IPv6 ржХрзЗржи ржкрзНрж░ржпрж╝рзЛржЬржи? (IPv4 Exhaustion)
- **Address Shortage:** IPv4-ржП ржорж╛рждрзНрж░ рзи^рзйрзиржЯрж┐ ржЖржЗржкрж┐ рж╕ржорзНржнржм, ржпрж╛ ржмрж░рзНрждржорж╛ржи ржкрзГржерж┐ржмрзАрж░ ржХрзЛржЯрж┐ ржХрзЛржЯрж┐ ржбрж┐ржнрж╛ржЗрж╕рзЗрж░ ржЬржирзНржп ржпржерзЗрж╖рзНржЯ ржирзЯред
- **Security:** IPv6-ржП IPsec рж╕рж╛ржкрзЛрж░рзНржЯ ржмрж┐рж▓рзНржЯ-ржЗржи ржерж╛ржХрзЗред
- **Performance:** рж░рж╛ржЙржЯрж┐ржВ ржЯрзЗржмрж┐рж▓ ржЫрзЛржЯ рж░рж╛ржЦрж╛ ржПржмржВ ржЕржЯрзЛ-ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи рж╕рж╣ржЬ ржХрж░рж╛рж░ ржЬржирзНржпред

---

## рзи. IPv6-ржПрж░ ржЧржаржи (Structure & Notation)
IPv6 рж╣рж▓рзЛ ржПржХржЯрж┐ **128-bit** ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ред ржПржЯрж┐ рж╣рзЗржХрзНрж╕рж╛ржбрзЗрж╕рж┐ржорзЗрж▓ (Hexadecimal) ржлрж░ржорзЗржЯрзЗ рж▓рзЗржЦрж╛ рж╣рзЯ ржПржмржВ ржХрзЛрж▓ржи (:) ржжрж┐рзЯрзЗ рзоржЯрж┐ ржЧрзНрж░рзБржк ржмрж╛ рж╣рзЗржХрзНрж╕рзЗржЯ (Hexet) ржЖрж▓рж╛ржжрж╛ ржХрж░рж╛ рж╣рзЯред

- **Format:** `2001:0db8:85a3:0000:0000:8a2e:0370:7334`
- **Shortening Rules (ржЖржЗржкрж┐ ржЫрзЛржЯ ржХрж░рж╛рж░ ржирж┐рзЯржо):**
    1.  **Lead Zeros:** ржпрзЗржХрзЛржирзЛ ржЧрзНрж░рзБржкрзЗрж░ рж╢рзБрж░рзБрж░ рж╢рзВржирзНржпржЧрзБрж▓рзЛ ржмрж╛ржж ржжрзЗржУрзЯрж╛ ржпрж╛рзЯред (`0db8` -> `db8`)
    2.  **Double Colon (::):** ржпржжрж┐ ржкрж░ржкрж░ ржХрзЗржмрж▓ рж╢рзВржирзНржп ржерж╛ржХрзЗ, рждржмрзЗ рж╕рзЗржЧрзБрж▓рзЛржХрзЗ ржПржХржмрж╛рж░рзЗрж░ ржЬржирзНржп `::` ржжрж┐рзЯрзЗ ржкрзНрж░ржХрж╛рж╢ ржХрж░рж╛ ржпрж╛рзЯред
    - **Compressed Example:** `2001:db8:85a3::8a2e:370:7334`

---

## рзй. IPv6 ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ ржПрж░ ржкрзНрж░ржХрж╛рж░ржнрзЗржж (Address Types)

- **Unicast:** ржПржХржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржбрж┐ржнрж╛ржЗрж╕рзЗрж░ ржЬржирзНржпред
    - **Global Unicast:** ржПржЯрж┐ ржЗржирзНржЯрж╛рж░ржирзЗржЯрзЗ рж╕рж░рж╛рж╕рж░рж┐ ржпрзЛржЧрж╛ржпрзЛржЧ ржХрж░рждрзЗ ржкрж╛рж░рзЗ (Public IP-рж░ ржорждрзЛ)ред рж░рзЗржЮрзНржЬ рж╢рзБрж░рзБ рж╣рзЯ `2000::/3` ржжрж┐рзЯрзЗред
    - **Unique Local:** рж▓рзЛржХрж╛рж▓ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХрзЗрж░ ржЬржирзНржп (Private IP-рж░ ржорждрзЛ)ред рж░рзЗржЮрзНржЬ: `fc00::/7` ржмрж╛ `fd00::/8`ред
    - **Link-local:** ржПржХржЗ рж▓рзЛржХрж╛рж▓ рж╕рзЗржЧржорзЗржирзНржЯрзЗрж░ ржмрж╛ рж▓рж┐ржВржХрзЗрж░ ржпрзЛржЧрж╛ржпрзЛржЧрзЗрж░ ржЬржирзНржпред рж░рзЗржЮрзНржЬ рж╢рзБрж░рзБ рж╣рзЯ `fe80::/10` ржжрж┐рзЯрзЗред ржПржЯрж┐ ржЕржирзЗржХржЯрж╛ APIPA-рж░ ржорждрзЛ ржЕржЯрзЛржорзЗржЯрж┐ржХ ржЬрзЗржирж╛рж░рзЗржЯ рж╣рзЯред
- **Multicast:** ржПржХржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржЧрзНрж░рзБржкрзЗрж░ ржХрж╛ржЫрзЗ ржбрж╛ржЯрж╛ ржкрж╛ржарж╛ржирзЛрж░ ржЬржирзНржпред рж░рзЗржЮрзНржЬ рж╢рзБрж░рзБ рж╣рзЯ `ff00::/8` ржжрж┐рзЯрзЗред
- **Anycast:** ржПржХржЗ рж╕рж╛рж░рзНржнрж┐рж╕ ржЕржирзЗржХржЧрзБрж▓рзЛ ржбрж┐ржнрж╛ржЗрж╕рзЗ ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗ, ржбрж╛ржЯрж╛ рж╕ржмрж╕ржорзЯ рж╕ржмржЪрзЗрзЯрзЗ ржХрж╛ржЫрзЗрж░ (Closest) ржбрж┐ржнрж╛ржЗрж╕рзЗ ржкрзМржБржЫрж╛ржмрзЗред

---

## рзк. ржЕржЯрзЛ-ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи (Autoconfiguration)
IPv6-ржП ржорзНржпрж╛ржирзБржпрж╝рж╛рж▓рж┐ ржЖржЗржкрж┐ ржмрж╕рж╛ржирзЛрж░ ржкрзНрж░рзЯрзЛржЬржи ржирзЗржЗред ржПржЯрж┐ ржжрзБржЗржнрж╛ржмрзЗ рж╣рждрзЗ ржкрж╛рж░рзЗ:
1.  **SLAAC (Stateless Address Autoconfiguration):** ржбрж┐ржнрж╛ржЗрж╕ ржирж┐ржЬрзЗржЗ рж░рж╛ржЙржЯрж╛рж░рзЗрж░ рж╕рж╛ржерзЗ ржХржерж╛ ржмрж▓рзЗ ржЖржЗржкрж┐ ржЬрзЗржирж╛рж░рзЗржЯ ржХрж░рзЗ ржирзЗрзЯред
2.  **DHCPv6 (Stateful):** ржЖржЗржкрж┐ ржПржмржВ ржЕржирзНржпрж╛ржирзНржп рждржерзНржп ржПржХржЯрж┐ рж╕рзЗржирзНржЯрзНрж░рж╛рж▓рж╛ржЗржЬржб рж╕рж╛рж░рзНржнрж╛рж░ ржерзЗржХрзЗ ржирзЗржУрзЯрж╛ рж╣рзЯред

---

## рзл. IPv4 ржмржирж╛ржо IPv6: ржПржХржЯрж┐ рждрзБрж▓ржирж╛

| ржмрзИрж╢рж┐рж╖рзНржЯрзНржп | IPv4 | IPv6 |
| :--- | :--- | :--- |
| **рж╕рж╛ржЗржЬ** | рзйрзи ржмрж┐ржЯред | рззрзирзо ржмрж┐ржЯред |
| **ржЕрзНржпрж╛ржбрзНрж░рзЗрж╕ рж╕ржВржЦрзНржпрж╛** | рзк.рзй ржмрж┐рж▓рж┐рзЯржиред | рзйрзкрзж ржЖржиржбрзЗрж╕рж┐рж▓рж┐ржпрж╝ржи ($2^{128}$)ред |
| **ржлрж░ржорзЗржЯ** | ржбрзЗрж╕рж┐ржорзЗрж▓ (192.168.1.1)ред | рж╣рзЗржХрзНрж╕рж╛ржбрзЗрж╕рж┐ржорзЗрж▓ред |
| **ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи** | ржорзНржпрж╛ржирзБржпрж╝рж╛рж▓ ржмрж╛ DHCPред | ржЕржЯрзЛ-ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи (SLAAC)ред |
| **ржкрзНржпрж╛ржХрзЗржЯ рж╣рзЗржбрж╛рж░** | ржЬржЯрж┐рж▓ред | рж╕рж┐ржорзНржкрж▓ (ржжрзНрж░рзБржд ржкрзНрж░рж╕рзЗрж╕рж┐ржВ)ред |

---

## рзм. ржорж╛ржЗржЧрзНрж░рзЗрж╢ржи ржЯрзЗржХржирж┐ржХ (Transition Techniques)
ржкрзГржерж┐ржмрзАрждрзЗ ржПржЦржиржУ ржЕржирзЗржХ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ IPv4 ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред рждрж╛ржЗ IPv6-ржП ржпрж╛ржУрзЯрж╛рж░ ржЬржирзНржп ржХрж┐ржЫрзБ ржкржжрзНржзрждрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯ:
- **Dual Stack:** ржПржХржЯрж┐ ржбрж┐ржнрж╛ржЗрж╕рзЗ ржПржХржЗ рж╕рж╛ржерзЗ IPv4 ржПржмржВ IPv6 рж╕рж▓рзЛ ржЪрж▓рзЗред
- **Tunneling:** IPv4 ржирзЗржЯржУржпрж╝рж╛рж░рзНржХрзЗрж░ ржнрзЗрждрж░ ржжрж┐рзЯрзЗ IPv6 ржбрж╛ржЯрж╛ ржкрзНржпрж╛ржХрзЗржЯржХрзЗ ржЯрж╛ржирзЗрж▓ ржХрж░рзЗ ржкрж╛ржарж╛ржирзЛред
- **NAT64:** IPv6 ржбрж┐ржнрж╛ржЗрж╕рзЗрж░ рж╕рж╛ржерзЗ IPv4 ржбрж┐ржнрж╛ржЗрж╕рзЗрж░ ржпрзЛржЧрж╛ржпрзЛржЧ ржШржЯрж╛ржирзЛред

---

## рзн. ржбрзЗржнржЕржкрж╕ ржкрж╛рж░рж╕ржкрзЗржХрзНржЯрж┐ржн: ржлрж┐ржЙржЪрж╛рж░ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи
- **Testing:** ржПржЦржиржХрж╛рж░ ржпрзЗржХрзЛржирзЛ ржорж╛ржЗржХрзНрж░рзЛрж╕рж╛рж░рзНржнрж┐рж╕ ржмрж╛ ржХржирзНржЯрзЗржЗржирж╛рж░ ржЖрж░рзНржХрж┐ржЯрзЗржХржЪрж╛рж░ ржбрж┐ржЬрж╛ржЗржи ржХрж░рж╛рж░ рж╕ржорзЯ IPv6 рж░рзЗржбрж┐ ржХрж┐ ржирж╛ рждрж╛ ржЪрзЗржХ ржХрж░рж╛ ржЬрж░рзБрж░рж┐ред
- **External Traffic:** ржкрж╛ржмрж▓рж┐ржХ ржХрзНрж▓рж╛ржЙржбрзЗ (AWS/GCP/Azure) рж▓рзЛржб ржмрзНржпрж╛рж▓рзЗржирзНрж╕рж╛рж░ рж╕рзЗржЯржЖржк ржХрж░рж╛рж░ рж╕ржорзЯ IPv4 ржПржмржВ IPv6 ржЙржнрзЯржЗ ржПржирж╛ржмрж▓ рж░рж╛ржЦрж╛ ржмрзЗрж╕рзНржЯ ржкрзНрж░рзНржпрж╛ржХржЯрж┐рж╕ред
- **Performance:** ржпрзЗрж╣рзЗрждрзБ IPv6-ржП NAT ржкрзНрж░рзЯрзЛржЬржи рж╣рзЯ ржирж╛ (Private/Public mapping), ржПржЯрж┐ рж╕рж░рж╛рж╕рж░рж┐ ржХрж╛ржирзЗржХрж╢ржи ржкржЬрж┐ржЯрж┐ржнрж▓рж┐ ржкрж╛рж░ржлрж░рзНржо ржХрж░рзЗред

---

::: tip ржоржЬрж╛рж░ рждржерзНржп
IPv6-ржП ржПржд ржмрзЗрж╢рж┐ ржЖржЗржкрж┐ ржЖржЫрзЗ ржпрзЗ, ржкрзГржерж┐ржмрзАрж░ ржкрзНрж░рждрж┐ржЯрж┐ ржзрзВрж▓рж┐ржХржгрж╛рж░ ржЬржирзНржпржУ ржЖрж▓рж╛ржжрж╛ ржЖрж▓рж╛ржжрж╛ ржЖржЗржкрж┐ ржмрж░рж╛ржжрзНржж ржХрж░рж╛ рж╕ржорзНржнржм! ЁЯММ
:::
