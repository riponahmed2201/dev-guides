# Routing Protocols: BGP (বর্ডার গেটওয়ে প্রোটোকল)

যদি ওএসআই লেয়ার ৩-এর প্রোটোকলগুলোকে একটি দেশের অভ্যন্তরের রাস্তা বলা হয়, তবে **BGP** হলো আন্তর্জাতিক হাইওয়ে যা এক দেশকে অন্য দেশের সাথে যুক্ত করে। একে বলা হয় **The Protocol of the Internet**। এটি একটি **Path Vector** প্রোটোকল।

---

## ১. অটোনোমাস সিস্টেম (AS - Autonomous System)
ইন্টারনেট হলো অনেকগুলো ছোট ছোট নেটওয়ার্কের সমষ্টি। প্রতিটি বড় নেটওয়ার্ক (যেমন: একটি ISP বা Google/Facebook-এর নেটওয়ার্ক) একটি নির্দিষ্ট আইডেন্টিটির অধীনে পরিচালিত হয়, যাকে **AS** বলে।
- প্রতিটি AS-এর একটি নির্দিষ্ট **ASN (Autonomous System Number)** থাকে।
- BGP মূলত এক AS থেকে অন্য AS-এ যাওয়ার রাস্তা খুঁজে দেয়।

---

## ২. eBGP বনাম iBGP
BGP কীভাবে কাজ করছে তার ওপর ভিত্তি করে একে দুই ভাগে ভাগ করা যায়:
1.  **eBGP (External BGP):** যখন দুটি আলাদা অটোনোমাস সিস্টেমের (AS) মধ্যে রাউটিং ইনফরমেশন শেয়ার করা হয়। এটি ইন্টারনেটের মেরুদণ্ড।
2.  **iBGP (Internal BGP):** যখন একই অটোনোমাস সিস্টেমের ভেতরে থাকা রাউটারগুলোর মধ্যে BGP আপডেট শেয়ার করা হয়।

---

## ৩. BGP অ্যাট্রিবিউটস (Path Attributes)
OSPF যেমন কেবল 'Cost' দেখে রাস্তা বেছে নেয়, BGP তা করে না। BGP অনেকগুলো প্যারামিটার বা অ্যাট্রিবিউট চেক করে সিদ্ধান্ত নেয়। প্রধান কয়েকটি হলো:
- **AS-Path:** প্যাকেটটি গন্তব্যে পৌঁছাতে কতগুলো AS পার হবে। যার AS-Path ছোট, সেটিই ভালো রাস্তা।
- **Next-hop:** পরবর্তী কোন আইপিতে ডাটা পাঠাতে হবে।
- **Local Preference:** আপনার নিজের নেটওয়ার্ক থেকে বাইরে যাওয়ার জন্য কোন রাস্তাকে বেশি পছন্দ করবেন (Exit Control)।
- **MED (Multi-Discriminator):** অন্য AS থেকে আপনার নেটওয়ার্কে ঢোকার জন্য আপনি কোন রাস্তাকে প্রায়োরিটি দেবেন (Entry Control)।

---

## ৪. পাথ সিলেকশন প্রসেস (Path Selection)
BGP সেরা রাস্তা বেছে নেওয়ার জন্য একটি নির্দিষ্ট সিকোয়েন্স ফলো করে:
1.  সবচেয়ে বেশি **Weight** (সিসকো স্পেসিফিক)।
2.  সবচেয়ে বেশি **Local Preference**।
3.  যে রুটটি লোকাল রাউটার থেকে তৈরি হয়েছে।
4.  সবচেয়ে ছোট **AS-Path**।
5.  সবচেয়ে কম **Origin Type**।
6.  সবচেয়ে কম **MED**।
7.  eBGP রুটকে iBGP-র চেয়ে বেশি গুরুত্ব দেওয়া।

---

## ৫. কেন BGP আলাদা? (Path Vector Logic)
ডিস্টেন্স ভেক্টর কেবল দূরত্ব (Distance) দেখে, লিঙ্ক-স্টেট ম্যাপ দেখে, কিন্তু BGP পুরো রাস্তার ম্যাপ দেখে না, বরং সে দেখে কোন কোন দেশের (AS) ওপর দিয়ে ডাটা যাবে। এটি ইনফিনিট লুপ হওয়া একদম বন্ধ করে দেয় কারণ সে ডুপ্লিকেট ASN দেখলেই ওই রাস্তা বাদ দিয়ে দেয়।

---

## ৬. ডেভঅপস পারসপেক্টিভ: মাল্টি-হোমিং ও ইকোসিস্টেম
- **Multi-homing:** যখন একটি কোম্পানি দুটি আলাদা ISP-র থেকে ইন্টারনেট নেয়, তখন BGP ব্যবহার করে নিশ্চিত করা হয় যে একটি ISP ডাউন হলে অন্যটি দিয়ে অটোমেটিক ট্রাফিক চলবে।
- **Traffic Engineering:** BGP-র অ্যাট্রিবিউট পরিবর্তন করে আপনি কন্ট্রোল করতে পারেন আপনার ইউজাররা কোন রুট দিয়ে আপনার সার্ভারে পৌঁছাবে (Latency কমাতে এটি জরুরি)।
- **Looking Glass:** ডেভঅপস ইঞ্জিনিয়াররা প্রায়ই 'Looking Glass' টুল ব্যবহার করে দেখেন গ্লোবাল ইন্টারনেট টেবিল থেকে তাদের আইপি রেঞ্জগুলো কীভাবে দেখাচ্ছে।

---

::: tip মনে রাখুন!
ইন্টারনেট কাজ করে কারণ BGP কাজ করে। যদি BGP আপডেট বন্ধ হয়ে যায়, তবে পুরো পৃথিবীর নেটওয়ার্ক একে অপরের থেকে বিচ্ছিন্ন হয়ে যাবে। 
:::
