# Working with Docker Images ЁЯЦ╝я╕П

Docker Image рж╣рж▓рзЛ ржХржирзНржЯрзЗржЗржирж╛рж░ рждрзИрж░рж┐ ржХрж░рж╛рж░ ржорзВрж▓ ржмрзНрж▓рзБ-ржкрзНрж░рж┐ржирзНржЯ ржмрж╛ ржЯрзЗржоржкрзНрж▓рзЗржЯред ржПржЯрж┐ ржПржХржЯрж┐ рж░рж┐ржб-ржЕржирж▓рж┐ (Read-only) ржлрж╛ржЗрж▓ ржпрж╛рждрзЗ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи ржЪрж╛рж▓рж╛ржирзЛрж░ ржЬржирзНржп ржкрзНрж░рзЯрзЛржЬржирзАрзЯ рж╕ржм ржХрзЛржб, рж▓рж╛ржЗржмрзНрж░рзЗрж░рж┐, ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи ржПржмржВ ржПржиржнрж╛рзЯрж░ржиржорзЗржирзНржЯ ржерж╛ржХрзЗред

---

## рзз. Docker Image ржХрзА? (What is an Image?)

рж╕рж╣ржЬ ржХржерж╛рзЯ, ржЗржорзЗржЬ рж╣рж▓рзЛ ржПржХржЯрж┐ рж╣рж┐ржорж╛ржпрж╝рж┐ржд (Frozen) ржорзБрж╣рзВрж░рзНрждрзЗрж░ ржПржиржнрж╛рзЯрж░ржиржорзЗржирзНржЯред ржпрзЗржоржи ржПржХржЯрж┐ ржЧрзЗржо ржЗржирзНрж╕ржЯрж▓ ржХрж░рж╛рж░ ржЬржирзНржп ржпрзЗржоржи ржПржХржЯрж┐ ISO ржмрж╛ ржЗржирзНрж╕ржЯрж▓рж╛рж░ ржлрж╛ржЗрж▓ рж▓рж╛ржЧрзЗ, рждрзЗржоржирж┐ ржПржХржЯрж┐ ржХржирзНржЯрзЗржЗржирж╛рж░ рж░рж╛ржи ржХрж░рж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ ржбржХрж╛рж░ ржЗржорзЗржЬ рж▓рж╛ржЧрзЗред ржХржирзНржЯрзЗржЗржирж╛рж░ рж╣рж▓рзЛ ржЗржорзЗржЬрзЗрж░ ржПржХржЯрж┐ рж░рж╛ржирж┐ржВ ржнрж╛рж░рзНрж╕ржиред

---

## рзи. Image Layers (рж▓рзЗржпрж╝рж╛рж░ рж╕рж┐рж╕рзНржЯрзЗржо)

ржбржХрж╛рж░ ржЗржорзЗржЬржЧрзБрж▓рзЛ ржПржХрж╛ржзрж┐ржХ рж▓рзЗржпрж╝рж╛рж░рзЗрж░ ржорж╛ржзрзНржпржорзЗ рждрзИрж░рж┐ рж╣рзЯред ржЖржкржирж┐ ржпржЦржи ржХрзЛржирзЛ Dockerfile ржмрж┐рж▓рзНржб ржХрж░рзЗржи, ржкрзНрж░рждрж┐ржЯрж┐ ржХржорж╛ржирзНржб ржПржХржЯрж┐ ржирждрзБржи рж▓рзЗржпрж╝рж╛рж░ рждрзИрж░рж┐ ржХрж░рзЗред

- **Layer Caching:** ржЖржкржирж┐ ржпржжрж┐ ржлрж╛ржЗрж▓рзЗ ржХрзЛржирзЛ ржЫрзЛржЯ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рзЗржи, ржбржХрж╛рж░ рж╢рзБржзрзБржорж╛рждрзНрж░ рж╕рзЗржЗ рж▓рзЗржпрж╝рж╛рж░ржЯрж┐ ржкрзБржирж░рж╛рзЯ ржмрж┐рж▓рзНржб ржХрж░рзЗред ржмрж╛ржХрж┐ржЧрзБрж▓рзЛ ржХрзНржпрж╛рж╢ (Cache) ржерзЗржХрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ, ржпрж╛ ржмрж┐рж▓рзНржб ржкрзНрж░рж╕рзЗрж╕ржХрзЗ ржЕржирзЗржХ ржжрзНрж░рзБржд ржХрж░рзЗред
- **Shared Layers:** ржпржжрж┐ ржжрзБржЯрж┐ ржЗржорзЗржЬрзЗрж░ ржмрзЗрж╕ рж▓рзЗржпрж╝рж╛рж░ (ржпрзЗржоржи: Ubuntu) ржПржХ рж╣рзЯ, рждржмрзЗ рждрж╛рж░рж╛ рж╕рзЗржЗ рж▓рзЗржпрж╝рж╛рж░ржЯрж┐ рж╢рзЗрзЯрж╛рж░ ржХрж░рзЗ рж╕рзНржЯрзЛрж░рзЗржЬ рж╕рж╛рж╢рзНрж░рзЯ ржХрж░рзЗред

---

## рзй. Base Images (ржнрж┐рждрзНрждрж┐ ржЗржорзЗржЬ)

ржпрзЗржХрзЛржирзЛ ржЗржорзЗржЬ рждрзИрж░рж┐ ржХрж░рж╛рж░ рж╕ржорзЯ ржЖржорж░рж╛ ржПржХржЯрж┐ **Base Image** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж┐ред ржПржЯрж┐ рж╕рж╛ржзрж╛рж░ржгржд ржПржХржЯрж┐ ржЕржкрж╛рж░рзЗржЯрж┐ржВ рж╕рж┐рж╕рзНржЯрзЗржо (ржпрзЗржоржи: ржЙржмрзБржирзНржЯрзБ, ржЖрж▓ржкрж╛ржЗржи) ржмрж╛ ржХрзЛржирзЛ рж▓рзНржпрж╛ржЩрзНржЧрзБрзЯрзЗржЬ рж░рж╛ржиржЯрж╛ржЗржо (ржпрзЗржоржи: ржкрж╛ржЗржержи, ржирзЛржб) рж╣рзЯрзЗ ржерж╛ржХрзЗред

ржЙржжрж╛рж╣рж░ржг: `FROM python:3.9` ржПржЦрж╛ржирзЗ `python:3.9` рж╣рж▓рзЛ ржЖржкржирж╛рж░ ржЕрзНржпрж╛ржкрзЗрж░ ржмрзЗрж╕ ржЗржорзЗржЬред

---

## рзк. Image naming convention & Tags

ржбржХрж╛рж░ ржЗржорзЗржЬрзЗрж░ ржирж╛ржо рж╕рж╛ржзрж╛рж░ржгржд рждрж┐ржиржЯрж┐ ржЕржВрж╢рзЗ ржмрж┐ржнржХрзНржд ржерж╛ржХрзЗ:

```bash
[Registry]/[User/Org]/[Image Name]:[Tag]
```

- **Registry:** ржХрзЛржерж╛рзЯ рж░рж╛ржЦрж╛ рж╣рзЯрзЗржЫрзЗ (ржпрзЗржоржи: `docker.io` - ржбржХрж╛рж░ рж╣рж╛ржм)ред
- **User/Org:** ржХрж╛рж░ ржЗржорзЗржЬ (ржпрзЗржоржи: `riponahmed2201`)ред
- **Image Name:** ржЕрзНржпрж╛ржкрзЗрж░ ржирж╛ржо (ржпрзЗржоржи: `my-web-app`)ред
- **Tag:** ржнрж╛рж░рзНрж╕ржи ржЖржЗржбрзЗржирзНржЯрж┐ржлрж╛ржпрж╝рж╛рж░ (ржпрзЗржоржи: `v1.0`, `latest`)ред

> [!TIP]
> ржпржжрж┐ ржЖржкржирж┐ ржХрзЛржирзЛ ржЯрзНржпрж╛ржЧ ржирж╛ ржжрзЗржи, ржбржХрж╛рж░ ржЕржЯрзЛржорзЗржЯрж┐ржХ `latest` ржЯрзНржпрж╛ржЧ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗред рждржмрзЗ ржкрзНрж░рзЛржбрж╛ржХрж╢ржирзЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржнрж╛рж░рзНрж╕ржи ржЯрзНржпрж╛ржЧ (ржпрзЗржоржи: `1.2.3`) ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржнрж╛рж▓рзЛред

---

## рзл. Official vs User Images

- **Official Images:** ржПржЧрзБрж▓рзЛ ржбржХрж╛рж░ ржЯрж┐ржорзЗрж░ ржжрзНржмрж╛рж░рж╛ ржнрзЗрж░рж┐ржлрж╛ржЗржб ржПржмржВ ржорзЗржЗржиржЯрзЗржЗржи ржХрж░рж╛ рж╣рзЯ (ржпрзЗржоржи: `nginx`, `python`, `mongo`)ред ржПржЧрзБрж▓рзЛрж░ ржирж╛ржорзЗрж░ ржЖржЧрзЗ ржХрзЛржирзЛ ржЗржЙржЬрж╛рж░ржирзЗржо ржерж╛ржХрзЗ ржирж╛ред
- **User Images:** ржПржЧрзБрж▓рзЛ рж╕рж╛ржзрж╛рж░ржг ржЗржЙржЬрж╛рж░ ржмрж╛ ржХрзЛржорзНржкрж╛ржирж┐ржЧрзБрж▓рзЛрж░ рждрзИрж░рж┐ (ржпрзЗржоржи: `jitesoft/node`)ред ржПржЧрзБрж▓рзЛрж░ ржирж╛ржорзЗрж░ рж╢рзБрж░рзБрждрзЗ ржЕржмрж╢рзНржпржЗ ржЗржЙржЬрж╛рж░ржирзЗржо ржмрж╛ ржЕрж░рзНржЧрж╛ржирж╛ржЗржЬрзЗрж╢ржи ржирзЗржо ржерж╛ржХрзЗред

---

## рзм. Image ID vs Image Name

- **Image Name:** ржПржЯрж┐ ржорж╛ржирзБрж╖рзЗрж░ ржкрзЬрж╛рж░ ржЬржирзНржп (ржпрзЗржоржи: `ubuntu:20.04`)ред ржПржЯрж┐ ржЗржЙржирж┐ржХ ржирж╛-ржУ рж╣рждрзЗ ржкрж╛рж░рзЗ (ржЯрзНржпрж╛ржЧ ржкрж░рж┐ржмрж░рзНрждржиржпрзЛржЧрзНржп)ред
- **Image ID:** ржПржЯрж┐ ржПржХржЯрж┐ ржЗржЙржирж┐ржХ SHAрзирзлрзм рж╣рж╛рж╢ (Hash)ред ржПржЯрж┐ ржЗржорзЗржЬрзЗрж░ ржХржирзНржЯрзЗржирзНржЯрзЗрж░ ржУржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ рждрзИрж░рж┐ рж╣рзЯред ржЗржорзЗржЬржЯрж┐ ржЗржЙржирж┐ржХрж▓рж┐ ржЖржЗржбрзЗржирзНржЯрж┐ржлрж╛ржЗ ржХрж░рж╛рж░ ржЬржирзНржп ржЖржЗржбрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯред

---

## рзн. Image Size (ржЗржорзЗржЬ рж╕рж╛ржЗржЬ)

ржЗржорзЗржЬрзЗрж░ рж╕рж╛ржЗржЬ ржХржорж╛ржирзЛ ржЦрзБржмржЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржХрж╛рж░ржг:
- ржжрзНрж░рзБржд ржбрж╛ржЙржирж▓рзЛржб ржУ ржЖржкрж▓рзЛржб рж╣рзЯред
- рж╕рзНржЯрзЛрж░рзЗржЬ ржХржо рж▓рж╛ржЧрзЗред
- рж╕рж┐ржХрж┐ржЙрж░рж┐ржЯрж┐ ржмрзЗрж╢рж┐ ржерж╛ржХрзЗ (ржЕржкрзНрж░рзЯрзЛржЬржирзАржпрж╝ ржлрж╛ржЗрж▓ ржХржо ржерж╛ржХрзЗ)ред

> [!IMPORTANT]
> ржЗржорзЗржЬрзЗрж░ рж╕рж╛ржЗржЬ ржХржорж╛ржирзЛрж░ ржЬржирзНржп **Alpine** ржмрж╛ **Distroless** ржЗржорзЗржЬ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржПржХржЯрж┐ ржмрзЗрж╕рзНржЯ ржкрзНрж░рзНржпрж╛ржХржЯрж┐рж╕ред

---

> [!TIP]
> ржЗржорзЗржЬ рж╕ржорзНржкрж░рзНржХрзЗ ржнрж╛рж▓рзЛржнрж╛ржмрзЗ ржЬрж╛ржирж╛ ржерж╛ржХрж▓рзЗ ржЖржкржирж┐ ржЖрж░ржУ ржжржХрзНрж╖ ржбржХрж╛рж░ржлрж╛ржЗрж▓ рж▓рж┐ржЦрждрзЗ ржкрж╛рж░ржмрзЗржиред