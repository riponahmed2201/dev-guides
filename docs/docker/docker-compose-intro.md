# Docker Compose Introduction: ржорж╛рж▓рзНржЯрж┐-ржХржирзНржЯрзЗржЗржирж╛рж░ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ ЁЯО╝

ржПржХржЯрж┐ ржкрзНрж░ржЬрзЗржХрзНржЯрзЗ ржпржЦржи ржЕржирзЗржХржЧрзБрж▓рзЛ ржХржирзНржЯрзЗржЗржирж╛рж░ (ржпрзЗржоржи: Frontend, Backend, Database, Redis) ржПржХрж╕рж╛ржерзЗ ржХрж╛ржЬ ржХрж░рзЗ, рждржЦржи ржкрзНрж░рждрж┐ржЯрж┐рж░ ржЬржирзНржп ржЖрж▓рж╛ржжрж╛ржнрж╛ржмрзЗ `docker run` ржХржорж╛ржирзНржб ржжрзЗржУрзЯрж╛ ржмрзЗрж╢ ржХрж╖рзНржЯрж╕рж╛ржзрзНржпред ржПржЗ рж╕ржорж╕рзНржпрж╛ рж╕ржорж╛ржзрж╛ржирзЗрж░ ржЬржирзНржпржЗ **Docker Compose** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯред ржПржЯрж┐ ржПржХржЯрж┐ ржЯрзБрж▓ ржпрж╛ ржЖржкржирж╛ржХрзЗ ржПржХржЯрж┐ ржорж╛рждрзНрж░ ржлрж╛ржЗрж▓ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржкрзБрж░рзЛ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи рж╕рзНржЯрзНржпрж╛ржХржЯрж┐ ржбрж┐ржлрж╛ржЗржи ржПржмржВ рж░рж╛ржи ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред

---

## рзз. Docker Compose ржХрж┐?

ржбржХрж╛рж░ ржХржорзНржкрзЛржЬ рж╣рж▓рзЛ ржПржХржЯрж┐ ржЕрж░рзНржХрзЗрж╕рзНржЯрзНрж░рзЗрж╢ржи ржЯрзБрж▓ (Orchestration Tool) ржпрж╛ ржПржХржЯрж┐ `YAML` ржлрж╛ржЗрж▓рзЗрж░ ржорж╛ржзрзНржпржорзЗ ржорж╛рж▓рзНржЯрж┐-ржХржирзНржЯрзЗржЗржирж╛рж░ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржиржЧрзБрж▓рзЛ ржкрж░рж┐ржЪрж╛рж▓ржирж╛ ржХрж░рзЗред 
- **The Concept:** ржПржХржЯрж┐ ржлрж╛ржЗрж▓рзЗрж░ ржнрзЗрждрж░ рж╕ржм ржХржирзНржЯрзЗржЗржирж╛рж░рзЗрж░ ржХржиржлрж┐ржЧрж╛рж░рзЗрж╢ржи рж▓рж┐ржЦрзЗ рж░рж╛ржЦрж╛ рж╣рзЯ ржПржмржВ ржПржХржЯрж┐ ржорж╛рждрзНрж░ ржХржорж╛ржирзНржбрзЗ (`docker-compose up`) рж╕ржм рж╕рж╛рж░рзНржнрж┐рж╕ ржПржХрж╕рж╛ржерзЗ ржЪрж╛рж▓рзБ ржХрж░рж╛ рж╣рзЯред

---

## рзи. docker-compose.yml ржПрж░ рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░

ржХржорзНржкрзЛржЬ ржлрж╛ржЗрж▓рзЗрж░ ржорзВрж▓ ржнрж┐рждрзНрждрж┐ рж╣рж▓рзЛ **Services**, **Networks**, ржПржмржВ **Volumes**ред ржирж┐ржЪрзЗ ржПржХржЯрж┐ ржмрзЗрж╕рж┐ржХ ржЙржжрж╛рж╣рж░ржг ржжрзЗржУрзЯрж╛ рж╣рж▓рзЛ:

```yaml
version: '3.8'  # ржХржорзНржкрзЛржЬ ржлрж╛ржЗрж▓ ржнрж╛рж░рзНрж╕ржи

services:
  web:          # рж╕рж╛рж░рзНржнрж┐рж╕рзЗрж░ ржирж╛ржо
    build: .    # ржмрж░рзНрждржорж╛ржи ржбрж┐рж░рзЗржХрзНржЯрж░рж┐ ржерзЗржХрзЗ ржЗржорзЗржЬ ржмрж┐рж▓рзНржб ржХрж░ржмрзЗ
    ports:
      - "80:80"
    networks:
      - app-net

  db:
    image: postgres:14
    environment:
      POSTGRES_PASSWORD: example
    networks:
      - app-net

networks:
  app-net:
    driver: bridge
```

---

## рзй. рж╕рж╛рж░рзНржнрж┐рж╕ ржбрзЗржлрж┐ржирж┐рж╢ржи (Service Definition)

ржХржорзНржкрзЛржЬ ржлрж╛ржЗрж▓рзЗ ржкрзНрж░рждрж┐ржЯрж┐ ржХржирзНржЯрзЗржЗржирж╛рж░ржХрзЗ ржПржХржЯрж┐ **Service** ржмрж▓рж╛ рж╣рзЯред ржкрзНрж░рждрж┐ржЯрж┐ рж╕рж╛рж░рзНржнрж┐рж╕рзЗ ржЖржкржирж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрж░рждрзЗ ржкрж╛рж░рзЗржи:
- ржХрзЛржи ржЗржорзЗржЬ ржмрзНржпржмрж╣рж╛рж░ рж╣ржмрзЗ? (`image:` ржмрж╛ `build:`)
- ржХрзЛржи ржкрзЛрж░рзНржЯрзЗ ржЪрж▓ржмрзЗ? (`ports:`)
- ржПржиржнрж╛рзЯрж░ржиржорзЗржирзНржЯ ржнрзНржпрж╛рж░рж┐рзЯрзЗржмрж▓ ржХрж┐ рж╣ржмрзЗ? (`environment:`)
- ржорзЗржорзЛрж░рж┐ рж▓рж┐ржорж┐ржЯ ржХржд рж╣ржмрзЗ?

---

## рзк. ржбрж┐ржкрзЗржиржбрзЗржирзНрж╕рж┐ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ (Dependency Management)

ржХржорзНржкрзЛржЬ ржлрж╛ржЗрж▓рзЗ ржЖржкржирж┐ ржмрж▓рзЗ ржжрж┐рждрзЗ ржкрж╛рж░рзЗржи ржХрзЛржирзЛ рж╕рж╛рж░рзНржнрж┐рж╕ ржЕржирзНржп рж╕рж╛рж░рзНржнрж┐рж╕рзЗрж░ ржУржкрж░ ржирж┐рж░рзНржнрж░ ржХрж░рзЗ ржХрж┐ ржирж╛ред ржпрзЗржоржи- ржбрж╛ржЯрж╛ржмрзЗрж╕ ржЪрж╛рж▓рзБ ржирж╛ рж╣ржУрзЯрж╛ ржкрж░рзНржпржирзНржд ржЕрзНржпрж╛ржк ржЪрж╛рж▓рзБ рж╣ржмрзЗ ржирж╛:
```yaml
services:
  web:
    build: .
    depends_on:
      - db
```

---

## рзл. ржЗржирзНрж╕ржЯрж▓рзЗрж╢ржи (Installation)

- **Docker Desktop:** ржЖржкржирж┐ ржпржжрж┐ ржЙржЗржирзНржбрзЛржЬ ржмрж╛ ржорзНржпрж╛ржХ-ржП ржбржХрж╛рж░ ржбрзЗрж╕рзНржХржЯржк ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗржи, рждржмрзЗ ржбржХрж╛рж░ ржХржорзНржкрзЛржЬ ржЖржЧрзЗ ржерзЗржХрзЗржЗ ржЗржирзНрж╕ржЯрж▓ ржХрж░рж╛ ржерж╛ржХрзЗред 
- **Linux:** рж▓рж┐ржирж╛ржХрзНрж╕рзЗ ржбржХрж╛рж░ ржХржорзНржкрзЛржЬ ржЖрж▓рж╛ржжрж╛ржнрж╛ржмрзЗ ржЗржирзНрж╕ржЯрж▓ ржХрж░рждрзЗ рж╣рждрзЗ ржкрж╛рж░рзЗред рждржмрзЗ ржмрж░рзНрждржорж╛ржирзЗ `docker compose` (рж╕рзНрж▓рзНржпрж╛рж╢ ржЫрж╛рзЬрж╛) ржХржорж╛ржирзНржбржЯрж┐ ржбржХрж╛рж░ рж╕рж┐ржПрж▓ржЖржЗ (CLI)-ржПрж░ рж╕рж╛ржерзЗржЗ ржбрж┐ржлрж▓рзНржЯ рж╣рж┐рж╕рзЗржмрзЗ ржерж╛ржХрзЗред

---

## рзм. ржнрж╛рж░рзНрж╕ржи ржХржорзНржкрзНржпрж╛ржЯрж┐ржмрж┐рж▓рж┐ржЯрж┐ (Version Compatibility)

ржХржорзНржкрзЛржЬ ржлрж╛ржЗрж▓рзЗрж░ рж╢рзБрж░рзБрждрзЗ ржПржХржЯрж┐ `version` ржЙрж▓рзНрж▓рзЗржЦ ржХрж░рж╛ рж╣рзЯ (ржпрзЗржоржи: `3.0`, `3.8`)ред 
- ржЖржкржирж╛рж░ ржбржХрж╛рж░ ржЗржЮрзНржЬрж┐ржирзЗрж░ ржнрж╛рж░рзНрж╕ржирзЗрж░ рж╕рж╛ржерзЗ рж╕рж╛ржоржЮрзНржЬрж╕рзНржп рж░рзЗржЦрзЗ рж╕ржарж┐ржХ ржнрж╛рж░рзНрж╕ржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣рзЯред 
- ржЖржзрзБржирж┐ржХ ржбржХрж╛рж░ ржнрж╛рж░рзНрж╕ржирзЗ ржнрж╛рж░рзНрж╕ржи ржЙрж▓рзНрж▓рзЗржЦ ржХрж░рж╛ ржПржЦржи ржРржЪрзНржЫрж┐ржХ (Optional), рждржмрзЗ рж╕рзБрж░рзБрждрзЗ ржПржЯрж┐ рж░рж╛ржЦрж╛ ржкрзНрж░рзНржпрж╛ржХржЯрж┐рж╕ рж╣рж┐рж╕рзЗржмрзЗ ржнрж╛рж▓рзЛред

---

> [!TIP]
> ржбржХрж╛рж░ ржХржорзНржкрзЛржЬ ржорзЗржЗржирж▓рж┐ рж▓рзЛржХрж╛рж▓ ржбрзЗржнрзЗрж▓ржкржорзЗржирзНржЯ ржПржмржВ ржЯрзЗрж╕рзНржЯрж┐ржВрзЯрзЗрж░ ржЬржирзНржп ржмрзЗрж╢рж┐ ржмрзНржпржмрж╣рзГржд рж╣рзЯред ржкрзНрж░рзЛржбрж╛ржХрж╢ржирзЗ рж╣рж╛ржЗ-рж▓рзЗржнрзЗрж▓ ржЕрж░рзНржХрзЗрж╕рзНржЯрзНрж░рзЗрж╢ржирзЗрж░ ржЬржирзНржп ржЕржирзЗржХ рж╕ржорзЯ ржХрзБржЗржмрж╛рж░ржирзЗржЯрж┐рж╕ (Kubernetes) ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯред