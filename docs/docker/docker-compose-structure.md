# Docker Compose File Structure: ржЧржнрзАрж░ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг ЁЯПЧя╕П

ржбржХрж╛рж░ ржХржорзНржкрзЛржЬ ржлрж╛ржЗрж▓ (`docker-compose.yml`) рж╣рж▓рзЛ ржЖржкржирж╛рж░ ржкрзБрж░рзЛ ржЗржиржлрзНрж░рж╛рж╕рзНржЯрзНрж░рж╛ржХржЪрж╛рж░рзЗрж░ ржПржХржЯрж┐ ржмрзНрж▓рзБ-ржкрзНрж░рж┐ржирзНржЯред ржПржЗ ржЧрж╛ржЗржбрзЗ ржЖржорж░рж╛ ржПржХржЯрж┐ ржкрзВрж░рзНржгрж╛ржЩрзНржЧ ржЙржжрж╛рж╣рж░ржгрзЗрж░ ржорж╛ржзрзНржпржорзЗ ржПржЗ ржлрж╛ржЗрж▓рзЗрж░ ржкрзНрж░рждрж┐ржЯрж┐ ржЕржВрж╢ ржмрж┐рж╕рзНрждрж╛рж░рж┐рждржнрж╛ржмрзЗ рж╢рж┐ржЦржмрзЛред

---

## рзз. ржбржХрж╛рж░ ржХржорзНржкрзЛржЬ ржлрж╛ржЗрж▓рзЗрж░ ржкрзВрж░рзНржгрж╛ржЩрзНржЧ ржЙржжрж╛рж╣рж░ржг

ржирж┐ржЪрзЗрж░ ржЙржжрж╛рж╣рж░ржгржЯрж┐рждрзЗ ржПржХржЯрж┐ ржУрзЯрзЗржм рж╕рж╛рж░рзНржнрж╛рж░ (Nginx), ржПржХржЯрж┐ API (Node.js), ржПржмржВ ржПржХржЯрж┐ ржбрж╛ржЯрж╛ржмрзЗрж╕ (Postgres) ржПржХрж╕рж╛ржерзЗ рж╕рзЗржЯржЖржк ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ:

```yaml
version: "3.8"

services:
  # рзз. ржлрзНрж░ржирзНржЯржПржирзНржб ржУрзЯрзЗржм рж╕рж╛рж░рзНржнрж╛рж░
  web:
    image: nginx:alpine
    ports:
      - "80:80"
    volumes:
      - ./html:/usr/share/nginx/html
    networks:
      - frontend
    depends_on:
      - api

  # рзи. ржмрзНржпрж╛ржХржПржирзНржб API
  api:
    build: ./api
    environment:
      - NODE_ENV=production
    networks:
      - frontend
      - backend

  # рзй. ржбрж╛ржЯрж╛ржмрзЗрж╕
  db:
    image: postgres:13
    environment:
      POSTGRES_PASSWORD: secret
    volumes:
      - db-data:/var/lib/postgresql/data
    networks:
      - backend

networks:
  frontend: # ржУрзЯрзЗржм ржПржмржВ ржПржкрж┐ржЖржЗ-ржПрж░ ржоржзрзНржпрзЗ ржпрзЛржЧрж╛ржпрзЛржЧрзЗрж░ ржЬржирзНржп
  backend: # ржПржкрж┐ржЖржЗ ржПржмржВ ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗрж░ ржоржзрзНржпрзЗ ржпрзЛржЧрж╛ржпрзЛржЧрзЗрж░ ржЬржирзНржп

volumes:
  db-data: # ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗрж░ рждржерзНржп рж╕рзНржерж╛рзЯрзАржнрж╛ржмрзЗ рж╕рзЗржн рж░рж╛ржЦрж╛рж░ ржЬржирзНржп
```

---

## рзи. ржлрж╛ржЗрж▓рзЗрж░ ржкрзНрж░ржзрж╛ржи ржЕржВрж╢рж╕ржорзВрж╣ (Main Sections)

### version

ржПржЯрж┐ ржбржХрж╛рж░ ржХржорзНржкрзЛржЬ ржЗржЮрзНржЪрж┐ржирзЗрж░ ржнрж╛рж░рзНрж╕ржи ржирж┐рж░рзНржжрзЗрж╢ ржХрж░рзЗред ржЖржзрзБржирж┐ржХ ржнрж╛рж░рзНрж╕ржиржЧрзБрж▓рзЛрждрзЗ ржПржЯрж┐ ржЕржкрж╢ржирж╛рж▓ рж╣рж▓рзЗржУ ржкрзНрж░рзНржпрж╛ржХржЯрж┐рж╕ рж╣рж┐рж╕рзЗржмрзЗ рж░рж╛ржЦрж╛ ржнрж╛рж▓рзЛред

### services

ржПржЦрж╛ржирзЗ ржЖржкржирж┐ ржЖржкржирж╛рж░ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржирзЗрж░ ржкрзНрж░рждрж┐ржЯрж┐ ржХржирзНржЯрзЗржЗржирж╛рж░ржХрзЗ ржбрж┐ржлрж╛ржЗржи ржХрж░рзЗржиред ржкрзНрж░рждрж┐ржЯрж┐ рж╕рж╛рж░рзНржнрж┐рж╕ ржПржХржЯрж┐ ржЖрж▓рж╛ржжрж╛ ржХржирзНржЯрзЗржЗржирж╛рж░ рж╣рж┐рж╕рзЗржмрзЗ ржЪрж▓ржмрзЗред

- **image:** ржбржХрж╛рж░ рж╣рж╛ржм ржерзЗржХрзЗ ржХрзЛржирзЛ ржЗржорзЗржЬ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛рж░ ржЬржирзНржпред
- **build:** ржХрж╛рж╕рзНржЯржо ржбржХрж╛рж░ржлрж╛ржЗрж▓ ржерзЗржХрзЗ ржЗржорзЗржЬ рждрзИрж░рж┐ ржХрж░рж╛рж░ ржЬржирзНржп (`./api` ржлрзЛрж▓рзНржбрж╛рж░рзЗрж░ ржнрзЗрждрж░ ржбржХрж╛рж░ржлрж╛ржЗрж▓ ржЦрзБржБржЬржмрзЗ)ред
- **ports:** рж╣рзЛрж╕рзНржЯ ржПржмржВ ржХржирзНржЯрзЗржЗржирж╛рж░рзЗрж░ ржоржзрзНржпрзЗ ржкрзЛрж░рзНржЯ ржорзНржпрж╛ржкрж┐ржВред
- **depends_on:** рж╕рж╛рж░рзНржнрж┐рж╕рзЗрж░ рж░рж╛ржирж┐ржВ ржЕрж░рзНржбрж╛рж░ ржарж┐ржХ ржХрж░рзЗ (ржпрзЗржоржи: `api` ржЪрж╛рж▓рзБ рж╣ржУрзЯрж╛рж░ ржЖржЧрзЗ `db` ржЪрж╛рж▓рзБ рж╣рждрзЗ рж╣ржмрзЗ)ред

### networks

рж╕рж╛рж░рзНржнрж┐рж╕ржЧрзБрж▓рзЛрж░ ржоржзрзНржпрзЗ ржЖржЗрж╕рзЛрж▓рзЗрж╢ржи ржПржмржВ ржпрзЛржЧрж╛ржпрзЛржЧ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗред ржПржЦрж╛ржирзЗ `frontend` ржПржмржВ `backend` ржжрзБржЯрж┐ ржЖрж▓рж╛ржжрж╛ ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ ржпрж╛рждрзЗ ржУрзЯрзЗржм рж╕рж╛рж░рзНржнрж╛рж░ рж╕рж░рж╛рж╕рж░рж┐ ржбрж╛ржЯрж╛ржмрзЗрж╕рзЗ ржПржХрзНрж╕рзЗрж╕ ржирж╛ ржкрж╛рзЯ (рж╕рж┐ржХрж┐ржЙрж░рж┐ржЯрж┐)ред

### volumes

ржнрж▓рж┐ржЙржо ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯ ржбрзЗржЯрж╛ рж╕рзНржерж╛рзЯрзА ржХрж░рж╛рж░ ржЬржирзНржпред ржПржЦрж╛ржирзЗ `db-data` ржирж╛ржоржХ ржПржХржЯрж┐ ржнрж▓рж┐ржЙржо рждрзИрж░рж┐ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ ржпрж╛рждрзЗ ржбрж╛ржЯрж╛ржмрзЗрж╕ рж░рж┐рж╕рзНржЯрж╛рж░рзНржЯ ржжрж┐рж▓рзЗржУ ржбрзЗржЯрж╛ ржорзБржЫрзЗ ржирж╛ ржпрж╛рзЯред

---

## рзй. ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржХрж┐-ржУрзЯрж╛рж░рзНржбрж╕ржорзВрж╣ (Keywords)

- **environment:** ржХржирзНржЯрзЗржЗржирж╛рж░рзЗрж░ ржнрзЗрждрж░рзЗ ржПржиржнрж╛рзЯрж░ржиржорзЗржирзНржЯ ржнрзНржпрж╛рж░рж┐рзЯрзЗржмрж▓ (ржпрзЗржоржи: ржкрж╛рж╕ржУрзЯрж╛рж░рзНржб ржмрж╛ ржПржкрж┐ржЖржЗ ржХрж┐) ржкрж╛рж╕ ржХрж░рж╛рж░ ржЬржирзНржпред
- **volumes (mapping):**(`./html:/usr/share/nginx/html`) рж▓рзЛржХрж╛рж▓ рж╣рзЛрж╕рзНржЯрзЗрж░ ржХрзЛржирзЛ ржлрзЛрж▓рзНржбрж╛рж░ ржХржирзНржЯрзЗржЗржирж╛рж░рзЗрж░ ржнрзЗрждрж░рзЗ ржорж╛ржЙржирзНржЯ ржХрж░рж╛рж░ ржЬржирзНржпред

---

> [!IMPORTANT]
> ржбржХрж╛рж░ ржХржорзНржкрзЗржЬ ржлрж╛ржЗрж▓рзЗ **Indentation** (рж╕рзНржкрзЗрж╕ ржмрж╛ ржЯрзНржпрж╛ржм) ржЦрзБржм ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржгред ржПржХржЯрж┐ ржнрзБрж▓ рж╕рзНржкрзЗрж╕ ржкрзБрж░рзЛ ржлрж╛ржЗрж▓ржЯрж┐ржХрзЗ ржЗржиржнрзНржпрж╛рж▓рж┐ржб ржХрж░рзЗ ржжрж┐рждрзЗ ржкрж╛рж░рзЗред
