# Dockerfile Instructions - Part 1 ЁЯУЭ

Dockerfile-ржПрж░ ржкрзНрж░рждрж┐ржЯрж┐ рж▓рж╛ржЗржи ржЗржорзЗржЬрзЗрж░ ржПржХ ржПржХржЯрж┐ рж▓рзЗржпрж╝рж╛рж░ (Layer) рждрзИрж░рж┐ ржХрж░рзЗред ржПржЗ ржЧрж╛ржЗржбрзЗ ржЖржорж░рж╛ ржмрзЗрж╢ ржХрж┐ржЫрзБ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг ржЗржирзНрж╕ржЯрзНрж░рж╛ржХрж╢ржи ржПржмржВ рж╕рзЗржЧрзБрж▓рзЛ ржмрзНржпржмрж╣рж╛рж░рзЗрж░ рж╕ржарж┐ржХ ржирж┐рзЯржо ржирж┐рзЯрзЗ ржмрж┐рж╕рзНрждрж╛рж░рж┐ржд ржЖрж▓рзЛржЪржирж╛ ржХрж░ржмрзЛред

---

## рзз. FROM (ржнрж┐рждрзНрждрж┐ рж╕рзНржерж╛ржкржи)

ржкрзНрж░рждрж┐ржЯрж┐ Dockerfile ржЕржмрж╢рзНржпржЗ `FROM` ржжрж┐рзЯрзЗ рж╢рзБрж░рзБ рж╣ржмрзЗред ржПржЯрж┐ ржЖржкржирж╛рж░ ржЗржорзЗржЬрзЗрж░ Base Image ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзЗред

```dockerfile
FROM ubuntu:20.04
```

**ржмрзЗрж╕рзНржЯ ржкрзНрж░рзНржпрж╛ржХржЯрж┐рж╕:** рж╕ржмрж╕ржорзЯ ржПржХржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржнрж╛рж░рзНрж╕ржи (Tag) ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржиред `latest` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж▓рзЗ ржнржмрж┐рж╖рзНржпрждрзЗ ржмрж┐рж▓рзНржбрзЗ рж╕ржорж╕рзНржпрж╛ рж╣рждрзЗ ржкрж╛рж░рзЗред

---

## рзи. LABEL (ржорзЗржЯрж╛ржбрзЗржЯрж╛)

ржЗржорзЗржЬрзЗ ржЕрждрж┐рж░рж┐ржХрзНржд рждржерзНржп (ржпрзЗржоржи: рж▓рзЗржЦржХ, ржнрж╛рж░рзНрж╕ржи, ржбрзЗрж╕ржХрзНрж░рж┐ржкрж╢ржи) ржпрзЛржЧ ржХрж░рждрзЗ `LABEL` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯред

```dockerfile
LABEL maintainer="ripon@example.com"
LABEL version="1.0"
LABEL description="My Awesome Nginx Server"
```

---

## рзй. RUN (ржХржорж╛ржирзНржб ржЪрж╛рж▓рж╛ржирзЛ)

ржЗржорзЗржЬ ржмрж┐рж▓рзНржб ржХрж░рж╛рж░ рж╕ржорзЯ ржХржирзНржЯрзЗржЗржирж╛рж░рзЗрж░ ржнрзЗрждрж░рзЗ ржХрзЛржирзЛ рж╕ржлржЯржУрзЯрзНржпрж╛рж░ ржЗржирзНрж╕ржЯрж▓ ржмрж╛ ржХржиржлрж┐ржЧрж╛рж░ ржХрж░рждрзЗ `RUN` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯред

- **ржнрзБрж▓ ржкржжрзНржзрждрж┐ (ржмрзЗрж╢рж┐ рж▓рзЗржпрж╝рж╛рж░):**
  ```dockerfile
  RUN apt-get update
  RUN apt-get install -y nginx
  ```
- **рж╕ржарж┐ржХ ржкржжрзНржзрждрж┐ (ржХржо рж▓рзЗржпрж╝рж╛рж░):**
  ```dockerfile
  RUN apt-get update && apt-get install -y \
      nginx \
      curl \
      vim && \
      rm -rf /var/lib/apt/lists/*
  ```
  > [!TIP] > `&&` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПржХрж╛ржзрж┐ржХ ржХржорж╛ржирзНржб ржПржХ рж▓рж╛ржЗржирзЗ рж▓рж┐ржЦрж▓рзЗ рж▓рзЗржпрж╝рж╛рж░ рж╕ржВржЦрзНржпрж╛ ржХржорзЗ ржПржмржВ ржЗржорзЗржЬ рж╕рж╛ржЗржЬ ржЫрзЛржЯ ржерж╛ржХрзЗред

---

## рзк. WORKDIR (ржбрж┐рж░рзЗржХрзНржЯрж░рж┐ рж╕рзЗржЯ ржХрж░рж╛)

ржПржЯрж┐ Linux-ржПрж░ `cd` ржХржорж╛ржирзНржбрзЗрж░ ржорждрзЛ ржХрж╛ржЬ ржХрж░рзЗред ржПржЯрж┐ рж╕рзЗржЯ ржХрж░рж▓рзЗ ржкрж░ржмрж░рзНрждрзА рж╕ржм ржХржорж╛ржирзНржб (RUN, COPY, CMD) ржУржЗ ржлрзЛрж▓рзНржбрж╛рж░рзЗ ржХрж╛рж░рзНржпржХрж░ рж╣ржмрзЗред

```dockerfile
WORKDIR /app
```

(ржпржжрж┐ ржлрзЛрж▓рзНржбрж╛рж░ржЯрж┐ ржирж╛ ржерж╛ржХрзЗ, ржбржХрж╛рж░ рж╕рзЗржЯрж┐ ржЕржЯрзЛржорзЗржЯрж┐ржХ рждрзИрж░рж┐ ржХрж░рзЗ ржирзЗржмрзЗ)ред

---

## рзл. COPY vs ADD

ржЙржнрзЯржЗ ржлрж╛ржЗрж▓ ржХржкрж┐ ржХрж░рж╛рж░ ржХрж╛ржЬ ржХрж░рзЗ, ржХрж┐ржирзНрждрзБ ржПржжрзЗрж░ ржоржзрзНржпрзЗ ржХрж┐ржЫрзБ ржкрж╛рж░рзНржержХрзНржп ржЖржЫрзЗ:

- **COPY:** рж╢рзБржзрзБржорж╛рждрзНрж░ рж▓рзЛржХрж╛рж▓ ржорзЗрж╢рж┐ржи ржерзЗржХрзЗ ржлрж╛ржЗрж▓ ржХржирзНржЯрзЗржЗржирж╛рж░рзЗ ржХржкрж┐ ржХрж░рж╛рж░ ржЬржирзНржпред (рж╕ржмржЪрзЗржпрж╝рзЗ ржирж┐рж░рж╛ржкржж ржУ рж░рзЗржХржорзЗржирзНржбрзЗржб)ред
  ```dockerfile
  COPY . /app
  ```
- **ADD:** ржПржЯрж┐ ржПржХржЯрзБ ржмрзЗрж╢рж┐ рж╢ржХрзНрждрж┐рж╢рж╛рж▓рзАред ржПржЯрж┐ ржХрзЛржирзЛ URL ржерзЗржХрзЗ ржлрж╛ржЗрж▓ ржбрж╛ржЙржирж▓рзЛржб ржХрж░рждрзЗ ржкрж╛рж░рзЗ ржЕржержмрж╛ ржХрзЛржирзЛ ржЬрж┐ржк ржлрж╛ржЗрж▓ (`.tar.gz`) ржХржкрж┐ ржХрж░рж▓рзЗ рж╕рзЗржЯрж┐ ржЕржЯрзЛржорзЗржЯрж┐ржХ ржЖржиржЬрж┐ржк (Extract) ржХрж░рзЗ ржлрзЗрж▓рзЗред
  ```dockerfile
  ADD my_files.tar.gz /app
  ```

---

## рзм. ржЙржжрж╛рж╣рж░ржг ржкрзНрж░ржХрж▓рзНржк (Dockerfile)

```dockerfile
# рзз. ржмрзЗрж╕ ржЗржорзЗржЬ
FROM ubuntu:20.04

# рзи. ржорзЗржЯрж╛ржбрзЗржЯрж╛
LABEL maintainer="dev-team"

# рзй. ржЖржкржбрзЗржЯ ржУ ржЕрзНржпрж╛ржк ржЗржирзНрж╕ржЯрж▓
RUN apt-get update && apt-get install -y nginx

# рзк. ржХрж╛ржЬрзЗрж░ ржЬрж╛рзЯржЧрж╛ ржарж┐ржХ ржХрж░рж╛
WORKDIR /var/www/html

# рзл. ржХржирзНржЯрзЗржирзНржЯ ржХржкрж┐ ржХрж░рж╛
COPY index.html .

# рзм. ржкрзЛрж░рзНржЯ
EXPOSE 80

# рзн. рж╕рзНржЯрж╛рж░рзНржЯ ржХржорж╛ржирзНржб
CMD ["nginx", "-g", "daemon off;"]
```

---

> [!IMPORTANT] > `RUN` ржХржорж╛ржирзНржбрзЗ рж╕ржмрж╕ржорзЯ ржЯрзЗржорзНржкрзЛрж░рж╛рж░рж┐ ржлрж╛ржЗрж▓ ржмрж╛ ржХрзНржпрж╛рж╢ ржбрж┐рж▓рж┐ржЯ ржХрж░рзЗ ржжрзЗржмрзЗржи ржпрж╛рждрзЗ ржЗржорзЗржЬрзЗрж░ рж╕рж╛ржЗржЬ ржЕржпржерж╛ржЗ ржмрзЬ ржирж╛ рж╣рзЯред
