# Advanced Networking

ডকারের বেসিক নেটওয়ার্কিং (Bridge, Host, Overlay) ছাড়াও প্রোডাকশন এনভায়রনমেন্টে বিশেষ প্রয়োজনে কিছু উন্নত নেটওয়ার্কিং টেকনিক ব্যবহার করা হয়। এই গাইডে আমরা ডকারের অ্যাডভান্সড নেটওয়ার্কিং ফিচারগুলো নিয়ে আলোচনা করব।

## ১. Macvlan Networks

Macvlan ব্যবহার করে আপনি সরাসরি ফিজিক্যাল নেটওয়ার্কের সাথে কন্টেইনারকে যুক্ত করতে পারেন। প্রতিটি কন্টেইনারের নিজস্ব MAC অ্যাড্রেস থাকে।

- **Use Case:** যখন কোনো লেগাসি অ্যাপ্লিকেশনকে এমনভাবে চালাতে হয় যেন এটি নেটওয়ার্কে একটি ফিজিক্যাল মেশিন হিসেবে দেখা যায়।
- **Advantage:** ডকার হোস্টের ব্রিজ লেয়ারটি বাইপাস করার ফলে পারফরম্যান্স অনেক ভালো পাওয়া যায়।
- **Requirement:** আপনার নেটওয়ার্ক কার্ডের 'Promiscuous Mode' এনাবল থাকতে হয়।

```bash
docker network create -d macvlan \
  --subnet=192.168.1.0/24 \
  --gateway=192.168.1.1 \
  -o parent=eth0 pub_net
```

## ২. IPvlan Networks

IPvlan অনেকটা Macvlan এর মতোই, তবে এটি একই MAC অ্যাড্রেস শেয়ার করে কিন্তু আলাদা আইপি ব্যবহার করে। এটি দুটি মোডে কাজ করতে পারে:

- **L2 Mode:** Macvlan এর মতো কাজ করে কিন্তু MAC অ্যাড্রেস আলাদা হয় না।
- **L3 Mode:** এটি রাউটিং এর মাধ্যমে কাজ করে, ফলে এটি অনেক বেশি স্কেল্যাবল এবং কনফিগার করা সহজ।

## ৩. Custom Bridge Configuration

সব সময় ডিফল্ট `docker0` ব্রিজ ব্যবহার করা ভালো নয়। কন্টেইনারগুলোর মধ্যে আইসোলেশন এবং ভালো কন্ট্রোলের জন্য কাস্টম ব্রিজ তৈরি করা হয়।

- **User-defined Bridges:** এগুলোতে অটোমেটিক সার্ভিস ডিসকভারি (DNS) থাকে যা ডিফল্ট ব্রিজে থাকে না।
- **Parameters:** আপনি চাইলে এমটিইউ (MTU), আইপি রেঞ্জ এবং আইপিটিবলস (iptables) রুলস কাস্টমাইজ করতে পারেন।

## ৪. Network Plugins & CNI

ডকার তার নেটওয়ার্কিং ফিচারকে আরও শক্তিশালী করার জন্য প্লাগইন সাপোর্ট দেয়।

- **Third-party Plugins:** যেমন Weave, Calico, বা Cisco ACI প্লাগইন।
- **CNI Integration:** কুবারনেটিস বা বড় ক্লাস্টারে ডকার রানটাইম সরাসরি CNI (Container Network Interface) প্লাগইন ব্যবহার করে নেটওয়ার্কিং কনফিগার করে।

## ৫. Service Mesh Integration

যখন মাইক্রোসার্ভিসের সংখ্যা অনেক বেড়ে যায়, তখন তাদের মধ্যে ট্রাফিক ম্যানেজমেন্ট, সিকিউরিটি এবং অবজারভেবিলিটির জন্য **Service Mesh** ব্যবহার করা হয়।

- **Tools:** Istio, Linkerd, বা Consul।
- **Sidecar Proxy:** প্রতিটি কন্টেইনারের সাথে একটি ছোট প্রক্সি (যেমন Envoy) যুক্ত থাকে যা সব নেটওয়ার্ক ট্রাফিক কন্ট্রোল করে।
- **Features:** ট্রাফিক স্প্লিটিং, সার্ভিস টু সার্ভিস এনক্রিপশন (mTLS), এবং ডিটেইলড মেট্রিক্স।

## সারাংশ

অ্যাডভান্সড নেটওয়ার্কিং মূলত স্পেসিফাইড ইউজ কেস এবং হাই-পারফরম্যান্স আর্কিটেকচারের জন্য। আপনার যদি সাধারণ অ্যাপ্লিকেশন হয় তবে **Bridge** বা **Overlay** যথেষ্ট, কিন্তু কমপ্লেক্স নেটওয়ার্ক টপোলজির জন্য **Macvlan** বা **Service Mesh** অপরিহার্য।
