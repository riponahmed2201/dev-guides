# Real-World Project: Python Flask App with Docker

ржПржЗ ржкрзНрж░ржЬрзЗржХрзНржЯрзЗ ржЖржорж░рж╛ Python ржПрж░ ржЬржиржкрзНрж░рж┐рзЯ ржлрзНрж░рзЗржоржУрзЯрж╛рж░рзНржХ **Flask** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПржХржЯрж┐ рж╕рж┐ржорзНржкрж▓ REST API рждрзИрж░рж┐ ржХрж░ржм ржПржмржВ рж╕рзЗржЯрж┐ржХрзЗ ржбржХрж╛рж░ ржХржирзНржЯрзЗржЗржирж╛рж░рзЗ рж░рж╛ржи ржХрж░ржмред ржПржЯрж┐ ржбрзЗржЯрж╛ рж╕рж╛рзЯрзЗржирзНрж╕ ржПржмржВ ржорзЗрж╢рж┐ржи рж▓рж╛рж░рзНржирж┐ржВ ржЗржЮрзНржЬрж┐ржирж┐рзЯрж╛рж░ржжрзЗрж░ ржЬржирзНржп ржЦрзБржм ржжрж░ржХрж╛рж░рж┐ред

## ржкрзНрж░ржЬрзЗржХрзНржЯрзЗрж░ рж▓ржХрзНрж╖рзНржп

- ржПржХржЯрж┐ рж╕рж┐ржорзНржкрж▓ Flask API рждрзИрж░рж┐ ржХрж░рж╛ред
- `requirements.txt` ржлрж╛ржЗрж▓ ржорзНржпрж╛ржирзЗржЬ ржХрж░рж╛ред
- Python ржПрж░ ржЬржирзНржп ржЕржкрзНржЯрж┐ржорж╛ржЗржЬржб `Dockerfile` рж▓рзЗржЦрж╛ред
- ржПржиржнрж╛рзЯрж░ржиржорзЗржирзНржЯ ржнрзЗрж░рж┐рзЯрзЗржмрж▓ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рж╛ред

## рзз. ржкрзНрж░ржЬрзЗржХрзНржЯ рж╕рзЗржЯржЖржк

ржкрзНрж░ржержорзЗ ржПржХржЯрж┐ ржлрзЛрж▓рзНржбрж╛рж░ рждрзИрж░рж┐ ржХрж░рзБржи:

```bash
mkdir flask-docker-app
cd flask-docker-app
```

## рзи. ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи ржХрзЛржб

### app.py

`app.py` ржирж╛ржорзЗ ржПржХржЯрж┐ ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзБржи:

```python
from flask import Flask, jsonify
import os

app = Flask(__name__)

@app.route('/')
def home():
    return jsonify({
        "message": "Hello from Dockerized Flask App! ЁЯРН",
        "environment": os.environ.get("ENV", "production")
    })

if __name__ == '__main__':
    app.run(host='0.0.0.0', port=5000)
```

### requirements.txt

ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐ рж▓рж┐рж╕рзНржЯ ржХрж░рж╛рж░ ржЬржирзНржп `requirements.txt` рждрзИрж░рж┐ ржХрж░рзБржи:

```text
flask==3.0.0
```

## рзй. Dockerfile рждрзИрж░рж┐ ржХрж░рж╛

ржЖржорж░рж╛ `python:3.9-slim` ржЗржорзЗржЬ ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржм ржХрж╛рж░ржг ржПржЯрж┐ рж╣рж╛рж▓ржХрж╛ ржПржмржВ ржкрзНрж░рзЛржбрж╛ржХрж╢ржирзЗрж░ ржЬржирзНржп ржнрж╛рж▓рзЛред

```dockerfile
# рзз. ржмрзЗрж╕ ржЗржорзЗржЬ (рж╕рзНрж▓рж┐ржо ржнрж╛рж░рзНрж╕ржи)
FROM python:3.9-slim

# рзи. ржУрзЯрж╛рж░рзНржХрж┐ржВ ржбрж┐рж░рзЗржХрзНржЯрж░рж┐
WORKDIR /app

# рзй. ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐ ржЗржирж╕рзНржЯрж▓ ржХрж░рж╛
# ржХрзНржпрж╛рж╢рж┐ржВ ржПрж░ рж╕рзБржмрж┐ржзрж╛рж░ ржЬржирзНржп ржЖржЧрзЗ requirements.txt ржХржкрж┐ ржХрж░ржЫрж┐
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# рзк. рж╕рзЛрж░рзНрж╕ ржХрзЛржб ржХржкрж┐ ржХрж░рж╛
COPY . .

# рзл. ржПржиржнрж╛рзЯрж░ржиржорзЗржирзНржЯ ржнрзЗрж░рж┐рзЯрзЗржмрж▓ (ржЕржкрж╢ржирж╛рж▓)
ENV ENV=development

# рзм. ржкрзЛрж░рзНржЯ ржПржХрзНрж╕ржкрзЛржЬ ржПржмржВ рж░рж╛ржи ржХржорж╛ржирзНржб
EXPOSE 5000
CMD ["python", "app.py"]
```

## рзк. ржмрж┐рж▓рзНржб ржПржмржВ рж░рж╛ржи

### ржЗржорзЗржЬ ржмрж┐рж▓рзНржб ржХрж░рж╛

```bash
docker build -t my-flask-app .
```

### ржХржирзНржЯрзЗржЗржирж╛рж░ рж░рж╛ржи ржХрж░рж╛

```bash
docker run -d -p 5000:5000 --name flask-api my-flask-app
```

## рзл. ржЯрзЗрж╕рзНржЯ ржХрж░рж╛

ржмрзНрж░рж╛ржЙржЬрж╛рж░ ржмрж╛ Postman ржП рж╣рж┐ржЯ ржХрж░рзБржи: `http://localhost:5000`

ржЖржЙржЯржкрзБржЯ:

```json
{
  "environment": "development",
  "message": "Hello from Dockerized Flask App! ЁЯРН"
}
```

## рзм. ржХрзНрж▓рж┐ржиржЖржк

```bash
docker stop flask-api
docker rm flask-api
```

## рж╕рж╛рж░рж╛ржВрж╢

ржПржЗ ржкрзНрж░ржЬрзЗржХрзНржЯрзЗ ржЖржорж░рж╛ рж╢рж┐ржЦрж▓рж╛ржо ржХрзАржнрж╛ржмрзЗ Python ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи ржбржХрж╛рж░рж╛ржЗржЬ ржХрж░рждрзЗ рж╣рзЯред `pip install` ржПрж░ рж╕ржорзЯ `--no-cache-dir` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржЗржорзЗржЬ рж╕рж╛ржЗржЬ ржЫрзЛржЯ рж░рж╛ржЦрж╛рж░ ржЬржирзНржп ржПржХржЯрж┐ ржмрзЗрж╕рзНржЯ ржкрзНрж░рзНржпрж╛ржХржЯрж┐рж╕ред
