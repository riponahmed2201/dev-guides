# Real-World Project: Node.js App with Docker

ржПржЗ ржкрзНрж░ржЬрзЗржХрзНржЯрзЗ ржЖржорж░рж╛ ржПржХржЯрж┐ рж╕рж┐ржорзНржкрж▓ **Node.js (Express)** ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи рждрзИрж░рж┐ ржХрж░ржм ржПржмржВ рж╕рзЗржЯрж┐ржХрзЗ ржбржХрж╛рж░ ржХржирзНржЯрзЗржЗржирж╛рж░рзЗ рж░рж╛ржи ржХрж░ржмред ржПржЯрж┐ ржмрзНржпрж╛ржХржПржирзНржб ржбрзЗржнрзЗрж▓ржкрж╛рж░ржжрзЗрж░ ржЬржирзНржп ржПржХржЯрж┐ ржЖржжрж░рзНрж╢ ржкрзНрж░ржЬрзЗржХрзНржЯред

## ржкрзНрж░ржЬрзЗржХрзНржЯрзЗрж░ рж▓ржХрзНрж╖рзНржп

- ржПржХржЯрж┐ рж╕рж┐ржорзНржкрж▓ Express.js рж╕рж╛рж░рзНржнрж╛рж░ рждрзИрж░рж┐ ржХрж░рж╛ред
- `package.json` ржХржиржлрж┐ржЧрж╛рж░ ржХрж░рж╛ред
- ржкрзНрж░рзЛржбрж╛ржХрж╢ржи-ржЧрзНрж░рзЗржб `Dockerfile` рж▓рзЗржЦрж╛ред
- `.dockerignore` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ `node_modules` ржмрж╛ржж ржжрзЗржУрзЯрж╛ред
- ржХржирзНржЯрзЗржЗржирж╛рж░ ржмрж┐рж▓рзНржб ржПржмржВ ржЯрзЗрж╕рзНржЯ ржХрж░рж╛ред

## рзз. ржкрзНрж░ржЬрзЗржХрзНржЯ рж╕рзЗржЯржЖржк

ржкрзНрж░ржержорзЗ ржПржХржЯрж┐ ржлрзЛрж▓рзНржбрж╛рж░ рждрзИрж░рж┐ ржХрж░рзБржи ржПржмржВ рж╕рзЗржЦрж╛ржирзЗ `npm init` ржжрж┐рзЯрзЗ ржкрзНрж░ржЬрзЗржХрзНржЯ рж╢рзБрж░рзБ ржХрж░рзБржи:

```bash
mkdir node-docker-app
cd node-docker-app
npm init -y
npm install express
```

## рзи. ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи ржХрзЛржб

`server.js` ржирж╛ржорзЗ ржПржХржЯрж┐ ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзБржи:

```javascript
const express = require("express");
const app = express();
const PORT = 3000;

app.get("/", (req, res) => {
  res.json({ message: "Hello from Dockerized Node.js App! ЁЯЪА" });
});

app.listen(PORT, () => {
  console.log(`Server is running on port ${PORT}`);
});
```

`package.json` ржлрж╛ржЗрж▓рзЗ `start` рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржЖржкржбрзЗржЯ ржХрж░рзБржи:

```json
"scripts": {
  "start": "node server.js"
}
```

## рзй. Dockerfile рждрзИрж░рж┐ ржХрж░рж╛

ржЖржорж░рж╛ `node:alpine` ржЗржорзЗржЬ ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржм ржХрж╛рж░ржг ржПржЯрж┐ рж╕рж╛ржЗржЬрзЗ ржЫрзЛржЯ ржПржмржВ рж╕рзБрж░ржХрзНрж╖рж┐рждред

```dockerfile
# рзз. ржмрзЗрж╕ ржЗржорзЗржЬ
FROM node:18-alpine

# рзи. ржУрзЯрж╛рж░рзНржХрж┐ржВ ржбрж┐рж░рзЗржХрзНржЯрж░рж┐ рж╕рзЗржЯ ржХрж░рж╛
WORKDIR /app

# рзй. ржбрж┐ржкрзЗржирзНржбрзЗржирзНрж╕рж┐ ржХржкрж┐ ржПржмржВ ржЗржирж╕рзНржЯрж▓ ржХрж░рж╛
# ржкрзНрж░ржержорзЗ package.json ржХржкрж┐ ржХрж░ржЫрж┐ ржпрж╛рждрзЗ ржХрзНржпрж╛рж╢рж┐ржВ рж╕рзБржмрж┐ржзрж╛ ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯ
COPY package*.json ./
RUN npm install

# рзк. ржмрж╛ржХрж┐ рж╕рзЛрж░рзНрж╕ ржХрзЛржб ржХржкрж┐ ржХрж░рж╛
COPY . .

# рзл. ржкрзЛрж░рзНржЯ ржПржХрзНрж╕ржкрзЛржЬ ржПржмржВ ржХржорж╛ржирзНржб
EXPOSE 3000
CMD ["npm", "start"]
```

## рзк. .dockerignore ржлрж╛ржЗрж▓

`node_modules` ржлрзЛрж▓рзНржбрж╛рж░ ржПржмржВ рж▓ржЧ ржлрж╛ржЗрж▓ ржЗржорзЗржЬрзЗ ржХржкрж┐ ржирж╛ ржХрж░рж╛рж░ ржЬржирзНржп `.dockerignore` ржлрж╛ржЗрж▓ рждрзИрж░рж┐ ржХрж░рзБржи:

```text
node_modules
npm-debug.log
Dockerfile
.dockerignore
```

## рзл. ржмрж┐рж▓рзНржб ржПржмржВ рж░рж╛ржи

### ржЗржорзЗржЬ ржмрж┐рж▓рзНржб ржХрж░рж╛

```bash
docker build -t my-node-app .
```

### ржХржирзНржЯрзЗржЗржирж╛рж░ рж░рж╛ржи ржХрж░рж╛

```bash
docker run -d -p 3000:3000 --name node-server my-node-app
```

## рзм. ржЯрзЗрж╕рзНржЯ ржХрж░рж╛

ржЖржкржирж╛рж░ ржмрзНрж░рж╛ржЙржЬрж╛рж░ ржмрж╛ Postman ржП ржЧрж┐рзЯрзЗ рж╣рж┐ржЯ ржХрж░рзБржи: `http://localhost:3000`

ржЖржЙржЯржкрзБржЯ:

```json
{
  "message": "Hello from Dockerized Node.js App! ЁЯЪА"
}
```

## рзн. ржХрзНрж▓рж┐ржиржЖржк

```bash
docker stop node-server
docker rm node-server
```

## рж╕рж╛рж░рж╛ржВрж╢

ржПржЗ ржкрзНрж░ржЬрзЗржХрзНржЯрзЗ ржЖржорж░рж╛ рж╢рж┐ржЦрж▓рж╛ржо ржХрзАржнрж╛ржмрзЗ ржПржХржЯрж┐ ржбрж╛ржЗржирж╛ржорж┐ржХ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи (Node.js) ржХржирзНржЯрзЗржЗржирж╛рж░рж╛ржЗржЬ ржХрж░рждрзЗ рж╣рзЯред ржмрж┐рж╢рзЗрж╖ ржХрж░рзЗ `COPY package*.json ./` ржЯрзЗржХржирж┐ржХржЯрж┐ рж▓рзЗрзЯрж╛рж░ ржХрзНржпрж╛рж╢рж┐ржВ ржПрж░ ржЬржирзНржп ржЦрзБржмржЗ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржгред
