# Container Logs: ‡¶≤‡¶ó ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶è‡¶¨‡¶Ç ‡¶§‡¶¶‡¶æ‡¶∞‡¶ï‡¶ø üìú

‡¶°‡¶ï‡¶æ‡¶∞ ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶á‡¶®‡¶æ‡¶∞‡ßá ‡¶ö‡¶≤‡¶Æ‡¶æ‡¶® ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶™‡ßç‡¶≤‡¶ø‡¶ï‡ßá‡¶∂‡¶®‡ßá‡¶∞ ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶ü‡¶æ‡¶∏ ‡¶è‡¶¨‡¶Ç ‡¶è‡¶∞‡¶∞ ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶≤‡¶ó ‡¶Ö‡¶§‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£‡•§ ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡¶∂‡¶® ‡¶≤‡ßá‡¶≠‡ßá‡¶≤‡ßá ‡¶≤‡¶ó‡¶ó‡ßÅ‡¶≤‡ßã ‡¶ï‡¶ø‡¶≠‡¶æ‡¶¨‡ßá ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶ü ‡¶π‡ßü, ‡¶ï‡ßã‡¶•‡¶æ‡ßü ‡¶∏‡ßá‡¶≠ ‡¶π‡ßü ‡¶è‡¶¨‡¶Ç ‡¶ï‡¶ø‡¶≠‡¶æ‡¶¨‡ßá ‡¶Æ‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶ú ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü, ‡¶§‡¶æ ‡¶è‡¶á ‡¶ó‡¶æ‡¶á‡¶°‡ßá ‡¶Ü‡¶≤‡ßã‡¶ö‡¶®‡¶æ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶≤‡ßã‡•§

---

## ‡ßß. ‡¶≤‡¶ó‡¶ø‡¶Ç ‡¶°‡ßç‡¶∞‡¶æ‡¶á‡¶≠‡¶æ‡¶∞ (Logging Drivers)

‡¶°‡¶ï‡¶æ‡¶∞ ‡¶°‡¶ø‡¶´‡¶≤‡ßç‡¶ü‡¶≠‡¶æ‡¶¨‡ßá ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶á‡¶®‡¶æ‡¶∞‡ßá‡¶∞ ‡¶≤‡¶ó‡¶ó‡ßÅ‡¶≤‡ßã ‡¶´‡¶æ‡¶á‡¶≤ ‡¶Ü‡¶ï‡¶æ‡¶∞‡ßá ‡¶π‡ßã‡¶∏‡ßç‡¶ü ‡¶Æ‡ßá‡¶∂‡¶ø‡¶®‡ßá ‡¶ú‡¶Æ‡¶æ ‡¶∞‡¶æ‡¶ñ‡ßá‡•§ ‡¶§‡¶¨‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶ö‡¶æ‡¶á‡¶≤‡ßá ‡¶¨‡¶ø‡¶≠‡¶ø‡¶®‡ßç‡¶® ‡¶°‡ßç‡¶∞‡¶æ‡¶á‡¶≠‡¶æ‡¶∞ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶è‡¶ó‡ßÅ‡¶≤‡ßã‡¶ï‡ßá ‡¶Ö‡¶®‡ßç‡¶Ø ‡¶ú‡¶æ‡ßü‡¶ó‡¶æ‡ßü ‡¶™‡¶æ‡¶†‡¶æ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§

- **json-file (Default):** ‡¶≤‡¶ó‡¶ó‡ßÅ‡¶≤‡ßã JSON ‡¶´‡¶∞‡¶Æ‡ßç‡¶Ø‡¶æ‡¶ü‡ßá ‡¶≤‡ßã‡¶ï‡¶æ‡¶≤ ‡¶´‡¶æ‡¶á‡¶≤‡ßá ‡¶∏‡ßá‡¶≠ ‡¶π‡ßü‡•§
- **syslog:** ‡¶≤‡¶ø‡¶®‡¶æ‡¶ï‡ßç‡¶∏ ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ‡ßá‡¶∞ ‡¶∏‡ßç‡¶ü‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶æ‡¶∞‡ßç‡¶° `syslog` ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏‡ßá ‡¶≤‡¶ó ‡¶™‡¶æ‡¶†‡¶æ‡ßü‡•§
- **journald:** ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ‡ßá‡¶∞ `journald` ‡¶≤‡¶ó‡¶ø‡¶Ç ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ‡ßá ‡¶≤‡¶ó ‡¶ú‡¶Æ‡¶æ ‡¶∞‡¶æ‡¶ñ‡ßá‡•§
- **gelf (Graylog Extended Log Format):** Graylog ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞‡ßá ‡¶≤‡¶ó ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø‡•§
- **fluentd:** ‡¶≤‡¶ó ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ó‡ßç‡¶∞‡¶ø‡¶ó‡ßá‡¶∂‡¶® ‡¶ü‡ßÅ‡¶≤ Fluentd-‡¶§‡ßá ‡¶°‡¶æ‡¶ü‡¶æ ‡¶™‡¶æ‡¶†‡¶æ‡¶®‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø‡•§

---

## ‡ß®. ‡¶≤‡¶ó ‡¶ï‡¶®‡¶´‡¶ø‡¶ó‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ (Configuration)

‡¶¨‡ßç‡¶Ø‡¶æ‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶ö‡¶æ‡¶á‡¶≤‡ßá ‡¶ï‡¶Æ‡¶æ‡¶®‡ßç‡¶° ‡¶≤‡¶æ‡¶á‡¶® ‡¶•‡ßá‡¶ï‡ßá ‡¶¨‡¶æ ‡¶°‡¶ï‡¶æ‡¶∞ ‡¶ï‡¶Æ‡ßç‡¶™‡ßã‡¶ú ‡¶´‡¶æ‡¶á‡¶≤ ‡¶•‡ßá‡¶ï‡ßá ‡¶≤‡¶ó‡ßá‡¶∞ ‡¶ß‡¶∞‡¶® ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®:

```bash
docker run --log-driver syslog nginx
```

**Docker Compose ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£:**

```yaml
services:
  web:
    image: nginx
    logging:
      driver: "json-file"
      options:
        max-size: "10m" # ‡¶è‡¶ï‡¶ü‡¶ø ‡¶≤‡¶ó‡ßá‡¶∞ ‡¶∏‡¶æ‡¶á‡¶ú ‡¶∏‡¶∞‡ßç‡¶¨‡ßã‡¶ö‡ßç‡¶ö ‡ßß‡ß¶ ‡¶Æ‡ßá‡¶ó‡¶æ‡¶¨‡¶æ‡¶á‡¶ü
        max-file: "3" # ‡¶∏‡¶∞‡ßç‡¶¨‡ßã‡¶ö‡ßç‡¶ö ‡ß©‡¶ü‡¶ø ‡¶≤‡¶ó ‡¶´‡¶æ‡¶á‡¶≤ ‡¶∞‡¶æ‡¶ñ‡¶¨‡ßá (Log Rotation)
```

---

## ‡ß©. ‡¶≤‡¶ó ‡¶∞‡ßã‡¶ü‡ßá‡¶∂‡¶® (Log Rotation)

‡¶Ø‡¶¶‡¶ø ‡¶Ü‡¶™‡¶®‡¶ø ‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü ‡¶®‡¶æ ‡¶ï‡¶∞‡ßá ‡¶¶‡ßá‡¶®, ‡¶§‡¶¨‡ßá ‡¶≤‡¶ó ‡¶´‡¶æ‡¶á‡¶≤ ‡¶¨‡¶æ‡ßú‡¶§‡ßá ‡¶¨‡¶æ‡ßú‡¶§‡ßá ‡¶™‡ßÅ‡¶∞‡ßã ‡¶°‡¶ø‡¶∏‡ßç‡¶ï ‡¶´‡ßÅ‡¶≤ ‡¶ï‡¶∞‡ßá ‡¶¶‡¶ø‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§ ‡¶è‡¶ü‡¶ø ‡¶è‡ßú‡¶æ‡¶®‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø **Log Rotation** ‡¶ú‡¶∞‡ßÅ‡¶∞‡¶ø‡•§ ‡¶â‡¶™‡¶∞‡ßá‡¶∞ ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£‡ßá‡¶∞ ‡¶Æ‡¶§‡ßã `max-size` ‡¶è‡¶¨‡¶Ç `max-file` ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶°‡¶ø‡¶∏‡ßç‡¶ï ‡¶∏‡ßç‡¶™‡ßá‡¶∏ ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡¶®‡•§

---

## ‡ß™. ‡¶≤‡¶ó ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ó‡ßç‡¶∞‡¶ø‡¶ó‡ßá‡¶∂‡¶® (Log Aggregation)

‡¶Ø‡¶ñ‡¶® ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡¶®‡ßá‡¶ï‡¶ó‡ßÅ‡¶≤‡ßã ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶æ‡¶∞ ‡¶è‡¶¨‡¶Ç ‡¶∂‡ßü‡ßá ‡¶∂‡ßü‡ßá ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶á‡¶®‡¶æ‡¶∞ ‡¶•‡¶æ‡¶ï‡ßá, ‡¶§‡¶ñ‡¶® ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ü‡¶ø ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶á‡¶®‡¶æ‡¶∞‡ßá ‡¶¢‡ßÅ‡¶ï‡ßá ‡¶≤‡¶ó ‡¶¶‡ßá‡¶ñ‡¶æ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶¨ ‡¶π‡ßü ‡¶®‡¶æ‡•§ ‡¶è‡¶ú‡¶®‡ßç‡¶Ø **Centralized Logging** ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü‡•§

- **EFK Stack:** ElasticSearch + Fluentd + Kibana
- **ELK Stack:** ElasticSearch + Logstash + Kibana
- **Grafana Loki:** ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶∏‡¶Æ‡ßü‡ßá‡¶∞ ‡¶ñ‡ßÅ‡¶¨ ‡¶™‡¶™‡ßÅ‡¶≤‡¶æ‡¶∞ ‡¶è‡¶¨‡¶Ç ‡¶≤‡¶æ‡¶á‡¶ü-‡¶ì‡ßü‡ßá‡¶ü ‡¶≤‡¶ó‡¶ø‡¶Ç ‡¶∏‡¶≤‡¶ø‡¶â‡¶∂‡¶®‡•§

---

## ‡ß´. ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶ï‡¶Æ‡¶æ‡¶®‡ßç‡¶°‡¶∏‡¶Æ‡ßÇ‡¶π

- **‡¶≤‡¶æ‡¶á‡¶≠ ‡¶≤‡¶ó ‡¶¶‡ßá‡¶ñ‡¶æ:**
  ```bash
  docker logs -f container_name
  ```
- **‡¶∂‡ßá‡¶∑ ‡ßß‡ß¶‡ß¶ ‡¶≤‡¶æ‡¶á‡¶® ‡¶≤‡¶ó ‡¶¶‡ßá‡¶ñ‡¶æ:**
  ```bash
  docker logs --tail 100 container_name
  ```
- **‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡¶ø‡¶∑‡ßç‡¶ü ‡¶∏‡¶Æ‡ßü‡ßá‡¶∞ ‡¶≤‡¶ó ‡¶¶‡ßá‡¶ñ‡¶æ:**
  ```bash
  docker logs --since 30m container_name
  ```

---

> [!TIP]
> ‡¶™‡ßç‡¶∞‡ßã‡¶°‡¶æ‡¶ï‡¶∂‡¶®‡ßá ‡¶∏‡¶¨‡¶∏‡¶Æ‡ßü `json-file` ‡¶°‡ßç‡¶∞‡¶æ‡¶á‡¶≠‡¶æ‡¶∞‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá `max-size` ‡¶≤‡¶ø‡¶Æ‡¶ø‡¶ü ‡¶∏‡ßá‡¶ü ‡¶ï‡¶∞‡ßá ‡¶¶‡¶ø‡¶®, ‡¶Ö‡¶•‡¶¨‡¶æ ‡¶∏‡ßá‡¶®‡ßç‡¶ü‡ßç‡¶∞‡¶æ‡¶≤‡¶æ‡¶á‡¶ú‡¶° ‡¶ï‡ßã‡¶®‡ßã ‡¶≤‡¶ó ‡¶∏‡¶æ‡¶∞‡ßç‡¶≠‡¶ø‡¶∏ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
