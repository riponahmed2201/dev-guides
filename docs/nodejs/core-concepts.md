# Node.js Core Concepts (ржЖрж░рзНржХрж┐ржЯрзЗржХржЪрж╛рж░)

Node.js ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ рждрж╛рж░ ржкрзЗржЫржирзЗрж░ ржорзЗржХрж╛ржирж┐ржЬржо ржмрж╛ ржЖрж░рзНржХрж┐ржЯрзЗржХржЪрж╛рж░ ржмрзЛржЭрж╛ ржПржХржЬржи ржПржХрзНрж╕ржкрж╛рж░рзНржЯ ржбрзЗржнрзЗрж▓ржкрж╛рж░рзЗрж░ ржЬржирзНржп ржЕрждрзНржпржирзНржд ржЬрж░рзБрж░рж┐ред ржЪрж▓рзБржи ржПржХржжржо рж╕рж╣ржЬ ржнрж╛рж╖рж╛ржпрж╝ ржПрж░ ржХрзЛрж░ ржХржирж╕рзЗржкрзНржЯржЧрзБрж▓рзЛ ржмрзБржЭрзЗ ржирж┐ржЗред

## рзз. Node.js Architecture

Node.js ржПрж░ ржЖрж░рзНржХрж┐ржЯрзЗржХржЪрж╛рж░ ржорзВрж▓ржд **Event-Driven, Non-blocking I/O** ржоржбрзЗрж▓рзЗрж░ ржЙржкрж░ ржнрж┐рждрзНрждрж┐ ржХрж░рзЗ рждрзИрж░рж┐ред

### ржПржЯрж┐ ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ?
ржЕржирзНржпрж╛ржирзНржп рж▓рзНржпрж╛ржЩрзНржЧрзБржпрж╝рзЗржЬ (ржпрзЗржоржи PHP ржмрж╛ Java) рж╕рж╛ржзрж╛рж░ржгржд **Multi-threaded** рж╣ржпрж╝, ржЕрж░рзНржерж╛рзО ржкрзНрж░рждрж┐ржЯрж┐ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯрзЗрж░ ржЬржирзНржп ржПржЯрж┐ ржПржХржЯрж┐ ржХрж░рзЗ ржирждрзБржи ржерзНрж░рзЗржб (Thread) рждрзИрж░рж┐ ржХрж░рзЗред ржХрж┐ржирзНрждрзБ Node.js **Single-threaded**ред ржПржЯрж┐ ржПржХржЯрж┐ ржорж╛рждрзНрж░ ржорзЗржЗржи ржерзНрж░рзЗржбрзЗ рж╣рж╛ржЬрж╛рж░ рж╣рж╛ржЬрж╛рж░ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ рж╣рзНржпрж╛ржирзНржбрзЗрж▓ ржХрж░рзЗред

---

## рзи. Event Loop (ржЗржнрзЗржирзНржЯ рж▓рзБржк) - ржирзЛржбрзЗрж░ рж╣рзГржжржкрж┐ржгрзНржб

ржЗржнрзЗржирзНржЯ рж▓рзБржк рж╣рж▓рзЛ ржПржоржи ржПржХржЯрж┐ ржорзЗржХрж╛ржирж┐ржЬржо ржпрж╛ Node.js ржХрзЗ ржиржи-ржмрзНрж▓ржХрж┐ржВ ржХрж╛ржЬ ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯ рж╕рж┐ржЩрзНржЧрзЗрж▓ ржерзНрж░рзЗржбрзЗржб рж╣ржУржпрж╝рж╛ рж╕рждрзНрждрзНржмрзЗржУ ржЗржнрзЗржирзНржЯ рж▓рзБржкрзЗрж░ ржорж╛ржзрзНржпржорзЗ ржПржЯрж┐ ржмрзНржпрж╛ржХржЧрзНрж░рж╛ржЙржирзНржбрзЗ ржХрж╛ржЬ (ржпрзЗржоржи ржлрж╛ржЗрж▓ рж░рж┐ржб, ржирзЗржЯржУржпрж╝рж╛рж░рзНржХ рж░рж┐ржХрзЛржпрж╝рзЗрж╕рзНржЯ) рж╕ржорзНржкржирзНржи ржХрж░рзЗред

### ржЗржнрзЗржирзНржЯ рж▓рзБржкрзЗрж░ ржХрж╛ржЬрзЗрж░ ржзрж╛ржк (Call Stack & Queue):
Node.js ржпржЦржи ржХрзЛржирзЛ ржХрзЛржб рж░рж╛ржи ржХрж░рзЗ, рждржЦржи рж╕рзЗржЯрж┐ржХрзЗ ржХржпрж╝рзЗржХржЯрж┐ ржзрж╛ржкрзЗ ржнрж╛ржЧ ржХрж░рзЗ ржирзЗржпрж╝:

1. **Call Stack:** ржЖржорж╛ржжрзЗрж░ рж╕рж╛ржзрж╛рж░ржг ржлрж╛ржВрж╢ржиржЧрзБрж▓рзЛ ржПржЦрж╛ржирзЗ ржПржХрзНрж╕рж┐ржХрж┐ржЙржЯ рж╣ржпрж╝ред ржПржЯрж┐ "First In, Last Out" (LIFO) ржкржжрзНржзрждрж┐рждрзЗ ржХрж╛ржЬ ржХрж░рзЗред
2. **Node APIs (Web APIs):** ржпржЦржи ржХрзЛржирзЛ ржЕрзНржпрж╛рж╕рж┐ржиржХрзНрж░рзЛржирж╛рж╕ ржХрж╛ржЬ (ржпрзЗржоржи `setTimeout` ржмрж╛ `fs.readFile`) ржЖрж╕рзЗ, ржХрж▓ рж╕рзНржЯрзНржпрж╛ржХ рж╕рзЗржЯрж┐ржХрзЗ Node API ржПрж░ ржХрж╛ржЫрзЗ ржкрж╛ржарж┐ржпрж╝рзЗ ржжрзЗржпрж╝ ржПржмржВ ржирж┐ржЬрзЗ ржкрж░ржмрж░рзНрждрзА ржХрж╛ржЬ рж╢рзБрж░рзБ ржХрж░рзЗ ржжрзЗржпрж╝ред
3. **Callback Queue:** Node API рждрзЗ ржХрж╛ржЬ рж╢рзЗрж╖ рж╣рж▓рзЗ, рждрж╛рж░ ржХрж▓ржмрзНржпрж╛ржХ ржлрж╛ржВрж╢ржиржЯрж┐ ржПржЗ рж▓рж╛ржЗржирзЗ (Queue) ржПрж╕рзЗ ржЕржкрзЗржХрзНрж╖рж╛ ржХрж░рзЗред
4. **Event Loop:** ржЗржнрзЗржирзНржЯ рж▓рзБржкрзЗрж░ ржХрж╛ржЬ рж╣рж▓рзЛ рж╕рж╛рж░рж╛ржХрзНрж╖ржг ржиржЬрж░ рж░рж╛ржЦрж╛ред ржпржЦржиржЗ ржХрж▓ рж╕рзНржЯрзНржпрж╛ржХ ржЦрж╛рж▓рж┐ рж╣ржпрж╝рзЗ ржпрж╛ржпрж╝, рж╕рзЗ ржХрж┐ржЙ (Queue) ржерзЗржХрзЗ ржЕржкрзЗржХрзНрж╖ржорж╛ржи ржХрж▓ржмрзНржпрж╛ржХ ржлрж╛ржВрж╢ржиржЯрж┐ рждрзБрж▓рзЗ ржирж┐ржпрж╝рзЗ ржХрж▓ рж╕рзНржЯрзНржпрж╛ржХрзЗ ржкрж╛ржарж┐ржпрж╝рзЗ ржжрзЗржпрж╝ рж░рж╛ржи ржХрж░рж╛рж░ ржЬржирзНржпред

ржПржЗ ржкрзБрж░рзЛ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ржЯрж┐ ржПржд ржжрзНрж░рзБржд ржШржЯрзЗ ржпрзЗ ржЖржорж╛ржжрзЗрж░ ржоржирзЗ рж╣ржпрж╝ рж╕ржмржХрж┐ржЫрзБ ржПржХрж╕рж╛ржерзЗ ржЪрж▓ржЫрзЗ!

---

## рзй. Blocking vs Non-blocking Code

Node.js ржПрж░ ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕ ржПрж░ ржорзВрж▓ ржЪрж╛ржмрж┐ржХрж╛ржарж┐ рж╣рж▓рзЛ ржиржи-ржмрзНрж▓ржХрж┐ржВ ржХрзЛржбред

### Blocking (Synchronous)
ржмрзНрж▓ржХрж┐ржВ ржХрзЛржб ржПржХрзНрж╕рж┐ржХрж┐ржЙрж╢ржи ржерж╛ржорж┐ржпрж╝рзЗ рж░рж╛ржЦрзЗ ржпрждржХрзНрж╖ржг ржирж╛ ржЖржЧрзЗрж░ ржХрж╛ржЬржЯрж┐ рж╢рзЗрж╖ рж╣ржпрж╝ред

```javascript
const fs = require('fs');

// Blocking: ржлрж╛ржЗрж▓ ржкржбрж╝рж╛ рж╢рзЗрж╖ ржирж╛ рж╣ржУржпрж╝рж╛ ржкрж░рзНржпржирзНржд ржХрзЛржб ржПржЦрж╛ржирзЗ ржЖржЯржХрзЗ ржерж╛ржХржмрзЗ
const data = fs.readFileSync('file.txt'); 
console.log(data);
console.log("This will print AFTER file is read");
```

### Non-blocking (Asynchronous)
ржиржи-ржмрзНрж▓ржХрж┐ржВ ржХрзЛржб ржПржХрзНрж╕рж┐ржХрж┐ржЙрж╢ржи ржерж╛ржорж╛ржпрж╝ ржирж╛, ржХрж╛ржЬ рж╢рзЗрж╖ рж╣рж▓рзЗ ржХрж▓ржмрзНржпрж╛ржХрзЗрж░ ржорж╛ржзрзНржпржорзЗ ржЬрж╛ржирж╛ржпрж╝ред

```javascript
const fs = require('fs');

// Non-blocking: ржлрж╛ржЗрж▓ ржкржбрж╝рж╛рж░ ржХрж╛ржЬ ржмрзНржпрж╛ржХржЧрзНрж░рж╛ржЙржирзНржбрзЗ ржжрж┐ржпрж╝рзЗ ржХрзЛржб рж╕рж╛ржоржирзЗ ржПржЧрж┐ржпрж╝рзЗ ржпрж╛ржмрзЗ
fs.readFile('file.txt', (err, data) => {
    if (err) throw err;
    console.log(data);
});

console.log("This will print FIRST! ЁЯЪА");
```

> **ржЯрж┐ржкрж╕:** рж╕рж╛рж░рзНржнрж╛рж░ рж╕рзНрж▓рзЛ рж╣ржУржпрж╝рж╛ ржПржбрж╝рж╛рждрзЗ рж╕ржм рж╕ржоржпрж╝ `async` ржнрж╛рж░рзНрж╕ржи ржлрж╛ржВрж╢ржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗржиред

---

## рзк. Global Objects

Node.js ржП `window` ржмрж╛ `document` ржЕржмржЬрзЗржХрзНржЯ ржирзЗржЗ (ржХрж╛рж░ржг ржПржЯрж┐ ржмрзНрж░рж╛ржЙржЬрж╛рж░ ржиржпрж╝)ред ржПрж░ ржкрж░рж┐ржмрж░рзНрждрзЗ ржЖржЫрзЗ ржХрж┐ржЫрзБ ржЧрзНрж▓рзЛржмрж╛рж▓ ржнрзЗрж░рж┐ржпрж╝рзЗржмрж▓ ржпрж╛ ржпрзЗржХрзЛржирзЛ ржлрж╛ржЗрж▓рзЗ рж╕рж░рж╛рж╕рж░рж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛ржпрж╝ред

- **`global`**: ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗрж░ `window` ржПрж░ ржорждрзЛ, ржирзЛржбрзЗрж░ ржЧрзНрж▓рзЛржмрж╛рж▓ рж╕рзНржХрзЛржкред
- **`process`**: ржмрж░рзНрждржорж╛ржи ржкрзНрж░рж╕рзЗрж╕ рж╕ржорзНржкрж░рзНржХрзЗ рждржерзНржп ржжрзЗржпрж╝ (ржпрзЗржоржи ржПржиржнрж╛ржпрж╝рж░ржиржорзЗржирзНржЯ ржнрзЗрж░рж┐ржпрж╝рзЗржмрж▓ `process.env`)ред
- **`__dirname`**: ржмрж░рзНрждржорж╛ржи ржлрзЛрж▓рзНржбрж╛рж░рзЗрж░ ржмрж╛ ржбрж┐рж░рзЗржХрзНржЯрж░рж┐ ржкрж╛рже (Absolute Path)ред
- **`__filename`**: ржмрж░рзНрждржорж╛ржи ржлрж╛ржЗрж▓рзЗрж░ ржкрзВрж░рзНржг ржкрж╛ржеред
- **`module` & `require`**: ржоржбрж┐ржЙрж▓ рж╕рж┐рж╕рзНржЯрзЗржорзЗрж░ ржЬржирзНржпред

```javascript
console.log(__dirname);
// ржЖржЙржЯржкрзБржЯ: /Users/ripon/projects/my-node-app
```

---

## рзл. Module System (ржоржбрж┐ржЙрж▓ рж╕рж┐рж╕рзНржЯрзЗржо)

Node.js ржП ржкрзНрж░рждрж┐ржЯрж┐ ржлрж╛ржЗрж▓ржЗ ржПржХржЯрж┐ ржоржбрж┐ржЙрж▓ред ржПржХржЯрж┐ ржлрж╛ржЗрж▓рзЗрж░ ржХрзЛржб ржЕржирзНржп ржлрж╛ржЗрж▓рзЗ ржмрзНржпржмрж╣рж╛рж░рзЗрж░ ржЬржирзНржп ржЖржорж░рж╛ `module.exports` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж┐ред

рждрж┐ржи ржзрж░ржгрзЗрж░ ржоржбрж┐ржЙрж▓ ржЖржЫрзЗ:
1. **Core Modules:** ржирзЛржбрзЗрж░ рж╕рж╛ржерзЗ ржмрж┐рж▓рзНржЯ-ржЗржи ржЖрж╕рзЗ (ржпрзЗржоржи `fs`, `http`, `path`)ред
2. **Local Modules:** ржЖржорж╛ржжрзЗрж░ рждрзИрж░рж┐ ржХрж░рж╛ ржирж┐ржЬрж╕рзНржм ржлрж╛ржЗрж▓ред
3. **Third-party Modules:** NPM ржерзЗржХрзЗ ржЗржирзНрж╕ржЯрж▓ ржХрж░рж╛ ржкрзНржпрж╛ржХрзЗржЬ (ржпрзЗржоржи `express`, `mongoose`)ред
