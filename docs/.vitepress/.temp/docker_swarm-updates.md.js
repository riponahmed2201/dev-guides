import { ssrRenderAttrs, ssrRenderStyle } from "vue/server-renderer";
import { useSSRContext } from "vue";
import { _ as _export_sfc } from "./plugin-vue_export-helper.1tPrXgE0.js";
const __pageData = JSON.parse('{"title":"Swarm Service Updates & Rollbacks (সার্ভিস আপডেট এবং রোলব্যাক)","description":"","frontmatter":{},"headers":[],"relativePath":"docker/swarm-updates.md","filePath":"docker/swarm-updates.md"}');
const _sfc_main = { name: "docker/swarm-updates.md" };
function _sfc_ssrRender(_ctx, _push, _parent, _attrs, $props, $setup, $data, $options) {
  _push(`<div${ssrRenderAttrs(_attrs)}><h1 id="swarm-service-updates-rollbacks-সার্ভিস-আপডেট-এবং-রোলব্যাক" tabindex="-1">Swarm Service Updates &amp; Rollbacks (সার্ভিস আপডেট এবং রোলব্যাক) <a class="header-anchor" href="#swarm-service-updates-rollbacks-সার্ভিস-আপডেট-এবং-রোলব্যাক" aria-label="Permalink to &quot;Swarm Service Updates &amp; Rollbacks (সার্ভিস আপডেট এবং রোলব্যাক)&quot;">​</a></h1><p>ডকার সোয়ার্মের অন্যতম শক্তিশালী ফিচার হলো অ্যাপ্লিকেশন আপডেট করার ক্ষমতা। এটি জিরো-ডাউনটাইম নিশ্চিত করে এবং কোনো সমস্যা হলে অটোমেটিক আগের অবস্থায় ফিরে যাওয়ার (Rollback) সুবিধা দেয়।</p><h2 id="১-রোলিং-আপডেট-rolling-updates" tabindex="-1">১. রোলিং আপডেট (Rolling Updates) <a class="header-anchor" href="#১-রোলিং-আপডেট-rolling-updates" aria-label="Permalink to &quot;১. রোলিং আপডেট (Rolling Updates)&quot;">​</a></h2><p>রোলিং আপডেট মানে হলো সব কন্টেইনার একসাথে আপডেট না করে একে একে বা গ্রুপ করে আপডেট করা।</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">docker</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> service</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> update</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> --image</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> nginx:latest</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> web</span></span></code></pre></div><h3 id="আপডেট-কনফিগারেশন-update-configuration" tabindex="-1">আপডেট কনফিগারেশন (Update Configuration) <a class="header-anchor" href="#আপডেট-কনফিগারেশন-update-configuration" aria-label="Permalink to &quot;আপডেট কনফিগারেশন (Update Configuration)&quot;">​</a></h3><p>আপনি চাইলে আপনার পছন্দমতো আপডেটের নিয়ম ঠিক করে দিতে পারেন:</p><ul><li><strong>Parallelism:</strong> একসাথে সর্বোচ্চ কয়টি কন্টেইনার আপডেট হবে।</li><li><strong>Delay:</strong> এক ব্যাচ আপডেট হওয়ার পর অন্য ব্যাচের জন্য কতক্ষণ অপেক্ষা করবে।</li><li><strong>Failure Action:</strong> আপডেট ফেইল করলে কি হবে (pause বা rollback)।</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">docker</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> service</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> create</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> \\</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">  --name</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> web</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> \\</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">  --replicas</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> 6</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> \\</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">  --update-parallelism</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> 2</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> \\</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">  --update-delay</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> 10s</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> \\</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">  --update-failure-action</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> rollback</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> \\</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">  nginx:1.20</span></span></code></pre></div><hr><h2 id="২-ফেলওভার-এবং-রোলব্যাক-rollback-on-failure" tabindex="-1">২. ফেলওভার এবং রোলব্যাক (Rollback on Failure) <a class="header-anchor" href="#২-ফেলওভার-এবং-রোলব্যাক-rollback-on-failure" aria-label="Permalink to &quot;২. ফেলওভার এবং রোলব্যাক (Rollback on Failure)&quot;">​</a></h2><p>যদি আপডেটের সময় কোনো কন্টেইনার ঠিকমতো স্টার্ট না হয় বা হেলথ চেক ফেইল করে, তবে সোয়ার্ম স্বয়ংক্রিয়ভাবে আপডেটটি থামিয়ে দিতে পারে বা আগের ভার্সনে ফিরে যেতে পারে।</p><h3 id="ম্যানুয়াল-রোলব্যাক-manual-rollback" tabindex="-1">ম্যানুয়াল রোলব্যাক (Manual Rollback) <a class="header-anchor" href="#ম্যানুয়াল-রোলব্যাক-manual-rollback" aria-label="Permalink to &quot;ম্যানুয়াল রোলব্যাক (Manual Rollback)&quot;">​</a></h3><p>যদি আপনি আপডেট করার পর দেখেন কোনো সমস্যা হচ্ছে, তবে ম্যানুয়ালি রোলব্যাক করতে পারেন:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">docker</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> service</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> rollback</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> web</span></span></code></pre></div><hr><h2 id="৩-হেলথ-চেক-health-checks-during-updates" tabindex="-1">৩. হেলথ চেক (Health Checks during updates) <a class="header-anchor" href="#৩-হেলথ-চেক-health-checks-during-updates" aria-label="Permalink to &quot;৩. হেলথ চেক (Health Checks during updates)&quot;">​</a></h2><p>আপডেট সফল হয়েছে কিনা তা বোঝার জন্য সোয়ার্ম হেলথ চেক ব্যবহার করে।</p><ul><li>যদি নতুন কন্টেইনারটি হেলথ চেকে পাশ না করে, তবে সোয়ার্ম সেটিকে &#39;Unhealthy&#39; হিসেবে মার্ক করে এবং পরবর্তী গ্রুপ আপডেট করা বন্ধ করে দেয়।</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">docker</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> service</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> update</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> \\</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">  --health-cmd</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> &quot;curl -f http://localhost/ || exit 1&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> \\</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">  --health-interval</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> 5s</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> \\</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">  web</span></span></code></pre></div><hr><h2 id="৪-গুরুত্বপূর্ণ-টার্মস" tabindex="-1">৪. গুরুত্বপূর্ণ টার্মস <a class="header-anchor" href="#৪-গুরুত্বপূর্ণ-টার্মস" aria-label="Permalink to &quot;৪. গুরুত্বপূর্ণ টার্মস&quot;">​</a></h2><table tabindex="0"><thead><tr><th style="${ssrRenderStyle({ "text-align": "left" })}">টার্ম</th><th style="${ssrRenderStyle({ "text-align": "left" })}">ব্যাখ্যা</th></tr></thead><tbody><tr><td style="${ssrRenderStyle({ "text-align": "left" })}"><strong>Parallelism</strong></td><td style="${ssrRenderStyle({ "text-align": "left" })}">একসাথে কতগুলো টাস্ক (Task) আপডেট হবে।</td></tr><tr><td style="${ssrRenderStyle({ "text-align": "left" })}"><strong>Delay</strong></td><td style="${ssrRenderStyle({ "text-align": "left" })}">আপডেটের মধ্যবর্তী বিরতি।</td></tr><tr><td style="${ssrRenderStyle({ "text-align": "left" })}"><strong>Monitor</strong></td><td style="${ssrRenderStyle({ "text-align": "left" })}">একটি টাস্ক আপডেট হওয়ার পর কতক্ষণ অবজার্ভ করবে (default 5s)।</td></tr><tr><td style="${ssrRenderStyle({ "text-align": "left" })}"><strong>Max Failure Ratio</strong></td><td style="${ssrRenderStyle({ "text-align": "left" })}">কত শতাংশ টাস্ক ফেইল করলে আপডেটটি ফেইল হিসেবে গণ্য হবে।</td></tr></tbody></table><h2 id="৫-বেস্ট-প্র্যাকটিস" tabindex="-1">৫. বেস্ট প্র্যাকটিস <a class="header-anchor" href="#৫-বেস্ট-প্র্যাকটিস" aria-label="Permalink to &quot;৫. বেস্ট প্র্যাকটিস&quot;">​</a></h2><ul><li><strong>Small Batches:</strong> বড় ক্লাস্টারের ক্ষেত্রে <code>parallelism</code> কম রাখা ভালো।</li><li><strong>Monitor Period:</strong> আপডেট হওয়ার পর যথেষ্ট সময় (delay) দিন যাতে অ্যাপ্লিকেশনের স্ট্যাবিলিটি বোঝা যায়।</li><li><strong>Use Health Checks:</strong> সবসময় হেলথ চেক ব্যবহার করুন যাতে খারাপ ইমেজ ডিপ্লয় না হয়।</li></ul></div>`);
}
const _sfc_setup = _sfc_main.setup;
_sfc_main.setup = (props, ctx) => {
  const ssrContext = useSSRContext();
  (ssrContext.modules || (ssrContext.modules = /* @__PURE__ */ new Set())).add("docker/swarm-updates.md");
  return _sfc_setup ? _sfc_setup(props, ctx) : void 0;
};
const swarmUpdates = /* @__PURE__ */ _export_sfc(_sfc_main, [["ssrRender", _sfc_ssrRender]]);
export {
  __pageData,
  swarmUpdates as default
};
