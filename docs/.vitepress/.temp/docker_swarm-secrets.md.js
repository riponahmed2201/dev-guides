import { ssrRenderAttrs, ssrRenderStyle } from "vue/server-renderer";
import { useSSRContext } from "vue";
import { _ as _export_sfc } from "./plugin-vue_export-helper.1tPrXgE0.js";
const __pageData = JSON.parse('{"title":"Secrets in Swarm (সোয়ার্ম সিক্রেটস)","description":"","frontmatter":{},"headers":[],"relativePath":"docker/swarm-secrets.md","filePath":"docker/swarm-secrets.md"}');
const _sfc_main = { name: "docker/swarm-secrets.md" };
function _sfc_ssrRender(_ctx, _push, _parent, _attrs, $props, $setup, $data, $options) {
  _push(`<div${ssrRenderAttrs(_attrs)}><h1 id="secrets-in-swarm-সোয়ার্ম-সিক্রেটস" tabindex="-1">Secrets in Swarm (সোয়ার্ম সিক্রেটস) <a class="header-anchor" href="#secrets-in-swarm-সোয়ার্ম-সিক্রেটস" aria-label="Permalink to &quot;Secrets in Swarm (সোয়ার্ম সিক্রেটস)&quot;">​</a></h1><p>পাসওয়ার্ড, API কি (Key), বা TLS সার্টিফিকেটের মতো সেনসিটিভ ডেটা সরাসরি Dockerfile বা এনভায়রনমেন্ট ভেরিয়েবলে রাখা নিরাপদ নয়। ডকার সোয়ার্মে এই ডেটাগুলো নিরাপদে ম্যানেজ করার জন্য &#39;Secrets&#39; ফিচার ব্যবহার করা হয়।</p><h2 id="১-সিক্রেট-কি" tabindex="-1">১. সিক্রেট কি? <a class="header-anchor" href="#১-সিক্রেট-কি" aria-label="Permalink to &quot;১. সিক্রেট কি?&quot;">​</a></h2><p>সিক্রেট হলো এক ধরণের অবজেক্ট যা সোয়ার্ম ক্লাস্টারে এনক্রিপ্টেড অবস্থায় মজুদ থাকে। এটি শুধুমাত্র সেইসব সার্ভিসের কাছে পৌঁছায় যাদেরকে আপনি অনুমতি দেন।</p><ul><li><strong>Encrypted Storage:</strong> সোয়ার্ম ম্যানেজারের Raft লগে সিক্রেটগুলো সব সময় এনক্রিপ্টেড থাকে।</li><li><strong>In-memory:</strong> যখন কোনো কন্টেইনারে সিক্রেট দেওয়া হয়, তা ডিস্কে সেভ না হয়ে মেমোরিতে (tmpfs) মাউন্ট হয়।</li></ul><hr><h2 id="২-সিক্রেট-তৈরি-এবং-ব্যবহার-create-use" tabindex="-1">২. সিক্রেট তৈরি এবং ব্যবহার (Create &amp; Use) <a class="header-anchor" href="#২-সিক্রেট-তৈরি-এবং-ব্যবহার-create-use" aria-label="Permalink to &quot;২. সিক্রেট তৈরি এবং ব্যবহার (Create &amp; Use)&quot;">​</a></h2><h3 id="সিক্রেট-তৈরি-করা" tabindex="-1">সিক্রেট তৈরি করা: <a class="header-anchor" href="#সিক্রেট-তৈরি-করা" aria-label="Permalink to &quot;সিক্রেট তৈরি করা:&quot;">​</a></h3><p>আপনি কমান্ড লাইন থেকে বা ফাইল থেকে সিক্রেট তৈরি করতে পারেন।</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">echo</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> &quot;p@ssword123&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}"> |</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}"> docker</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> secret</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> create</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> db_password</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> -</span></span></code></pre></div><h3 id="সার্ভিসে-সিক্রেট-যুক্ত-করা" tabindex="-1">সার্ভিসে সিক্রেট যুক্ত করা: <a class="header-anchor" href="#সার্ভিসে-সিক্রেট-যুক্ত-করা" aria-label="Permalink to &quot;সার্ভিসে সিক্রেট যুক্ত করা:&quot;">​</a></h3><p>সার্ভিস তৈরি করার সময় <code>--secret</code> ফ্ল্যাগ ব্যবহার করুন:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">docker</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> service</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> create</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> --name</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> my-app</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> --secret</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> db_password</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> my-image</span></span></code></pre></div><p>কন্টেইনারের ভেতরে সিক্রেট ফাইলটি <code>/run/secrets/db_password</code> পাথে পাওয়া যাবে। অ্যাপ্লিকেশন এখান থেকে পাসওয়ার্ডটি রিড করতে পারবে।</p><hr><h2 id="৩-অ্যাক্সেস-কন্ট্রোল-access-control" tabindex="-1">৩. অ্যাক্সেস কন্ট্রোল (Access Control) <a class="header-anchor" href="#৩-অ্যাক্সেস-কন্ট্রোল-access-control" aria-label="Permalink to &quot;৩. অ্যাক্সেস কন্ট্রোল (Access Control)&quot;">​</a></h2><p>সোয়ার্মে সিক্রেটগুলো &#39;Principle of Least Privilege&#39; মেনে কাজ করে। শুধুমাত্র নির্দিষ্ট সার্ভিসই সিক্রেটটি দেখতে পায়। ম্যানেজারের কাছে সিক্রেটটি এনক্রিপ্টেড থাকে এবং শুধুমাত্র হার্ডওয়্যার ট্রাস্টেড নোডগুলোতেই এটি ডিক্রিপ্ট হয়।</p><hr><h2 id="৪-সিক্রেট-রোটেশন-secret-rotation" tabindex="-1">৪. সিক্রেট রোটেশন (Secret Rotation) <a class="header-anchor" href="#৪-সিক্রেট-রোটেশন-secret-rotation" aria-label="Permalink to &quot;৪. সিক্রেট রোটেশন (Secret Rotation)&quot;">​</a></h2><p>যদি আপনি কোনো সিক্রেট পরিবর্তন করতে চান: ১. নতুন একটি সিক্রেট তৈরি করুন (যেমন: <code>db_password_v2</code>)। ২. সার্ভিস আপডেট করে আগেরটি রিমুভ করে নতুনটি দিন:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">docker</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> service</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> update</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> --secret-rm</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> db_password</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> --secret-add</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> db_password_v2</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}"> my-app</span></span></code></pre></div><hr><h2 id="৫-কম্পোজ-স্ট্যাক-ফাইলে-সিক্রেট" tabindex="-1">৫. কম্পোজ/স্ট্যাক ফাইলে সিক্রেট <a class="header-anchor" href="#৫-কম্পোজ-স্ট্যাক-ফাইলে-সিক্রেট" aria-label="Permalink to &quot;৫. কম্পোজ/স্ট্যাক ফাইলে সিক্রেট&quot;">​</a></h2><p>প্রোডাকশনে সচরাচর <code>docker-stack.yml</code> ফাইলে সিক্রেট ব্যবহার করা হয়:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">version</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">: </span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;3.8&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">services</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">:</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">  db</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">:</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">    image</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">: </span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">mysql:latest</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">    secrets</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">:</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">      - </span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">db_password</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">    environment</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">:</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">      MYSQL_ROOT_PASSWORD_FILE</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">: </span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">/run/secrets/db_password</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">secrets</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">:</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">  db_password</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">:</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">    external</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">: </span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">true</span></span></code></pre></div><p>এখানে <code>external: true</code> মানে হলো সিক্রেটটি আগেই সোয়ার্মে তৈরি করা আছে।</p><hr><h2 id="৬-সিক্রেট-ব্যবহারের-সুবিধা" tabindex="-1">৬. সিক্রেট ব্যবহারের সুবিধা <a class="header-anchor" href="#৬-সিক্রেট-ব্যবহারের-সুবিধা" aria-label="Permalink to &quot;৬. সিক্রেট ব্যবহারের সুবিধা&quot;">​</a></h2><ul><li><strong>Security:</strong> কোড বা ইমেজ থেকে সেনসিটিভ ডেটা আলাদা থাকে।</li><li><strong>Compliance:</strong> সিকিউরিটি অডিট এবং কমপ্লায়েন্স মেনে চলা সহজ হয়।</li><li><strong>Ephemeral:</strong> ডেটা কখনো নোডের হার্ড ড্রাইভ বা ডিস্কে পারমানেন্টলি সেভ হয় না।</li></ul></div>`);
}
const _sfc_setup = _sfc_main.setup;
_sfc_main.setup = (props, ctx) => {
  const ssrContext = useSSRContext();
  (ssrContext.modules || (ssrContext.modules = /* @__PURE__ */ new Set())).add("docker/swarm-secrets.md");
  return _sfc_setup ? _sfc_setup(props, ctx) : void 0;
};
const swarmSecrets = /* @__PURE__ */ _export_sfc(_sfc_main, [["ssrRender", _sfc_ssrRender]]);
export {
  __pageData,
  swarmSecrets as default
};
