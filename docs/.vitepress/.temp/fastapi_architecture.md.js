import { ssrRenderAttrs, ssrRenderStyle } from "vue/server-renderer";
import { useSSRContext } from "vue";
import { _ as _export_sfc } from "./plugin-vue_export-helper.1tPrXgE0.js";
const __pageData = JSON.parse('{"title":"Application Architecture (অ্যাপ্লিকেশন আর্কিটেকচার)","description":"","frontmatter":{},"headers":[],"relativePath":"fastapi/architecture.md","filePath":"fastapi/architecture.md"}');
const _sfc_main = { name: "fastapi/architecture.md" };
function _sfc_ssrRender(_ctx, _push, _parent, _attrs, $props, $setup, $data, $options) {
  _push(`<div${ssrRenderAttrs(_attrs)}><h1 id="application-architecture-অ্যাপ্লিকেশন-আর্কিটেকচার" tabindex="-1">Application Architecture (অ্যাপ্লিকেশন আর্কিটেকচার) <a class="header-anchor" href="#application-architecture-অ্যাপ্লিকেশন-আর্কিটেকচার" aria-label="Permalink to &quot;Application Architecture (অ্যাপ্লিকেশন আর্কিটেকচার)&quot;">​</a></h1><p>একটি ছোট প্রোজেক্ট শুধু একটি <code>main.py</code> ফাইলে রাখা সম্ভব হলেও প্রোডাকশন লেভেলের বড় অ্যাপ্লিকেশনে কোড গুছিয়ে রাখা অত্যন্ত জরুরি। একেই বলা হয় সফটওয়্যার আর্কিটেকচার।</p><hr><h2 id="১-apirouter-কোড-মডুলার-করা" tabindex="-1">১. APIRouter: কোড মডুলার করা <a class="header-anchor" href="#১-apirouter-কোড-মডুলার-করা" aria-label="Permalink to &quot;১. APIRouter: কোড মডুলার করা&quot;">​</a></h2><p>FastAPI-তে বড় অ্যাপ্লিকেশনকে ছোট ছোট অংশে (Modules) ভাগ করার জন্য <code>APIRouter</code> ব্যবহার করা হয়। এটি অনেকটা Flask-এর Blueprint বা Django-র App-এর মতো কাজ করে।</p><h3 id="১-১-রাউট-ফাইল-তৈরি-app-routers-users-py" tabindex="-1">১.১. রাউট ফাইল তৈরি (<code>app/routers/users.py</code>): <a class="header-anchor" href="#১-১-রাউট-ফাইল-তৈরি-app-routers-users-py" aria-label="Permalink to &quot;১.১. রাউট ফাইল তৈরি (\`app/routers/users.py\`):&quot;">​</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">from</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> fastapi </span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">import</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> APIRouter</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">router </span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">=</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> APIRouter(</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#E36209", "--shiki-dark": "#FFAB70" })}">    prefix</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">=</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;/users&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">,</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#E36209", "--shiki-dark": "#FFAB70" })}">    tags</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">=</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">[</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;users&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">],</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">)</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">@router.get</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;/&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">)</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">async</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}"> def</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}"> read_users</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">():</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">    return</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> [{</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;username&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">: </span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;Rick&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">}, {</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;username&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">: </span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;Morty&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">}]</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">@router.get</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;/</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">{user_id}</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">)</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">async</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}"> def</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}"> read_user</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(user_id: </span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">str</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">):</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">    return</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> {</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;user_id&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">: user_id}</span></span></code></pre></div><h3 id="১-২-মেইন-অ্যাপে-যুক্ত-করা-app-main-py" tabindex="-1">১.২. মেইন অ্যাপে যুক্ত করা (<code>app/main.py</code>): <a class="header-anchor" href="#১-২-মেইন-অ্যাপে-যুক্ত-করা-app-main-py" aria-label="Permalink to &quot;১.২. মেইন অ্যাপে যুক্ত করা (\`app/main.py\`):&quot;">​</a></h3><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">from</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> fastapi </span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">import</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> FastAPI</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">from</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> .routers </span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">import</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> users, items</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">app </span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">=</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> FastAPI()</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"># রাউটারগুলো ইনক্লুড করা</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">app.include_router(users.router)</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">app.include_router(items.router)</span></span></code></pre></div><hr><h2 id="২-production-project-structure" tabindex="-1">২. Production Project Structure <a class="header-anchor" href="#২-production-project-structure" aria-label="Permalink to &quot;২. Production Project Structure&quot;">​</a></h2><p>পেশাদার ডেভেলপাররা সাধারণত নিচের মতো একটি ফোল্ডার স্ট্রাকচার অনুসরণ করেন যা কোড মেইনটেইন করা সহজ করে:</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/my-fastapi-app</span></span>
<span class="line"><span>├── app/</span></span>
<span class="line"><span>│   ├── main.py             # অ্যাপ এন্ট্রি পয়েন্ট</span></span>
<span class="line"><span>│   ├── dependencies.py     # গ্লোবাল ডিপেন্ডেন্সি</span></span>
<span class="line"><span>│   ├── database.py         # DB কানেকশন লজিক</span></span>
<span class="line"><span>│   ├── models/             # SQLAlchemy (Database) মডেল</span></span>
<span class="line"><span>│   ├── schemas/            # Pydantic (Validation) মডেল</span></span>
<span class="line"><span>│   ├── routers/            # বিভিন্ন ফিচারের রাউটস</span></span>
<span class="line"><span>│   │   ├── users.py</span></span>
<span class="line"><span>│   │   └── items.py</span></span>
<span class="line"><span>│   └── crud/               # ডেটাবেস অপারেশন (Create, Read, etc.)</span></span>
<span class="line"><span>├── tests/                  # Pytest ফাইলস</span></span>
<span class="line"><span>├── .env                    # এনভায়রনমেন্ট ভেরিয়েবল</span></span>
<span class="line"><span>├── Dockerfile</span></span>
<span class="line"><span>└── requirements.txt</span></span></code></pre></div><hr><h2 id="৩-configuration-management-environment-variables" tabindex="-1">৩. Configuration Management (Environment Variables) <a class="header-anchor" href="#৩-configuration-management-environment-variables" aria-label="Permalink to &quot;৩. Configuration Management (Environment Variables)&quot;">​</a></h2><p>পাসওয়ার্ড, ডাটাবেস ইউআরএল বা সিক্রেট কি (Secret Key) সরাসরি কোডের ভেতর না রেখে সব সময় এনভায়রনমেন্ট ভেরিয়েবল ব্যবহার করা উচিত।</p><h3 id="৩-১-env-ফাইল" tabindex="-1">৩.১. <code>.env</code> ফাইল: <a class="header-anchor" href="#৩-১-env-ফাইল" aria-label="Permalink to &quot;৩.১. \`.env\` ফাইল:&quot;">​</a></h3><div class="language-env vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">env</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>DATABASE_URL=postgresql://user:password@localhost/dbname</span></span>
<span class="line"><span>SECRET_KEY=yoursecretkeyhere</span></span>
<span class="line"><span>DEBUG=True</span></span></code></pre></div><h3 id="৩-২-pydantic-settings-ব্যবহার-করে-লোড-করা" tabindex="-1">৩.২. Pydantic Settings ব্যবহার করে লোড করা: <a class="header-anchor" href="#৩-২-pydantic-settings-ব্যবহার-করে-লোড-করা" aria-label="Permalink to &quot;৩.২. Pydantic Settings ব্যবহার করে লোড করা:&quot;">​</a></h3><p>FastAPI-তে <code>pydantic-settings</code> লাইব্রেরি ব্যবহার করা সবচেয়ে আধুনিক এবং নিরাপদ পদ্ধতি।</p><p><code>pip install pydantic-settings</code></p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">from</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> pydantic_settings </span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">import</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> BaseSettings, SettingsConfigDict</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">class</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}"> Settings</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">(</span><span style="${ssrRenderStyle({ "--shiki-light": "#6F42C1", "--shiki-dark": "#B392F0" })}">BaseSettings</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">):</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">    db_url: </span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">str</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">    secret_key: </span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">str</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">    debug: </span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">bool</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}"> =</span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}"> False</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}">    # .env ফাইল থেকে ডেটা রিড করার কনফিগারেশন</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">    model_config </span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">=</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> SettingsConfigDict(</span><span style="${ssrRenderStyle({ "--shiki-light": "#E36209", "--shiki-dark": "#FFAB70" })}">env_file</span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">=</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;.env&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">)</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"># সেটিংস অবজেক্ট তৈরি</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">settings </span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">=</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> Settings()</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"># ব্যবহারের উদাহরণ:</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"># print(settings.db_url)</span></span></code></pre></div><hr><h2 id="৪-practice-exercises-অনুশীলন" tabindex="-1">৪. Practice Exercises (অনুশীলন) <a class="header-anchor" href="#৪-practice-exercises-অনুশীলন" aria-label="Permalink to &quot;৪. Practice Exercises (অনুশীলন)&quot;">​</a></h2><p>১. আপনার বর্তমান প্রোজেক্টটিকে <code>APIRouter</code> ব্যবহার করে অন্তত দুটি মডিউলে (যেমন: <code>blog</code> এবং <code>user</code>) ভাগ করুন। ২. একটি <code>.env</code> ফাইল তৈরি করুন এবং <code>pydantic-settings</code> ব্যবহার করে সেটির ডেটা আপনার অ্যাপে প্রিন্ট করুন। ৩. উপরের ফোল্ডার স্ট্রাকচার অনুযায়ী একটি নতুন ডিরেক্টরি তৈরি করে ফাইলগুলো সাজান।</p><hr><h2 id="৫-best-practices" tabindex="-1">৫. Best Practices <a class="header-anchor" href="#৫-best-practices" aria-label="Permalink to &quot;৫. Best Practices&quot;">​</a></h2><ol><li><strong>Keep <code>main.py</code> Slim:</strong> মেইন ফাইলে শুধু অ্যাপ ইনিশিয়ালাইজেশন এবং রাউটার ইনক্লুড করার কাজ রাখুন।</li><li><strong>Standardize Naming:</strong> ফোল্ডার এবং ফাইলের নাম সবসময় ছোট হাতের অক্ষরে (snake_case) রাখুন।</li><li><strong>Decouple Logic:</strong> ডেটাবেস কুয়েরি এবং এপিআই এন্ডপয়েন্ট লজিক আলাদা রাখুন (CRUD ফোল্ডার ব্যবহার করে)।</li><li><strong>Never Commit <code>.env</code>:</strong> প্রোডাকশন সিক্রেটস কখনোই গিটহাবে পুশ করবেন না। <code>.gitignore</code>-এ <code>.env</code> ফাইলটি যুক্ত করে দিন।</li></ol><hr><div class="tip custom-block"><p class="custom-block-title">পরবর্তী ধাপ</p><p>আর্কিটেকচার শেখার মাধ্যমে আপনি এখন একটি প্রফেশনাল লেভেলের প্রোজেক্ট শুরু করতে প্রস্তুত। পরবর্তী চ্যাপ্টারে আমরা শিখবো <strong>Expert Level Final Step: Docker &amp; Deployment</strong>।</p></div></div>`);
}
const _sfc_setup = _sfc_main.setup;
_sfc_main.setup = (props, ctx) => {
  const ssrContext = useSSRContext();
  (ssrContext.modules || (ssrContext.modules = /* @__PURE__ */ new Set())).add("fastapi/architecture.md");
  return _sfc_setup ? _sfc_setup(props, ctx) : void 0;
};
const architecture = /* @__PURE__ */ _export_sfc(_sfc_main, [["ssrRender", _sfc_ssrRender]]);
export {
  __pageData,
  architecture as default
};
