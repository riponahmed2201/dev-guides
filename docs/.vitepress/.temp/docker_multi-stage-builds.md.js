import { ssrRenderAttrs, ssrRenderStyle } from "vue/server-renderer";
import { useSSRContext } from "vue";
import { _ as _export_sfc } from "./plugin-vue_export-helper.1tPrXgE0.js";
const __pageData = JSON.parse('{"title":"Multi-Stage Builds: ржЗржорзЗржЬрзЗрж░ рж╕рж╛ржЗржЬ ржХржорж╛ржирзЛрж░ ржорзНржпрж╛ржЬрж┐ржХ ЁЯкД","description":"","frontmatter":{},"headers":[],"relativePath":"docker/multi-stage-builds.md","filePath":"docker/multi-stage-builds.md"}');
const _sfc_main = { name: "docker/multi-stage-builds.md" };
function _sfc_ssrRender(_ctx, _push, _parent, _attrs, $props, $setup, $data, $options) {
  _push(`<div${ssrRenderAttrs(_attrs)}><h1 id="multi-stage-builds-ржЗржорзЗржЬрзЗрж░-рж╕рж╛ржЗржЬ-ржХржорж╛ржирзЗрж╛рж░-ржорзНржпрж╛ржЬрж┐ржХ-ЁЯкД" tabindex="-1">Multi-Stage Builds: ржЗржорзЗржЬрзЗрж░ рж╕рж╛ржЗржЬ ржХржорж╛ржирзЛрж░ ржорзНржпрж╛ржЬрж┐ржХ ЁЯкД <a class="header-anchor" href="#multi-stage-builds-ржЗржорзЗржЬрзЗрж░-рж╕рж╛ржЗржЬ-ржХржорж╛ржирзЗрж╛рж░-ржорзНржпрж╛ржЬрж┐ржХ-ЁЯкД" aria-label="Permalink to &quot;Multi-Stage Builds: ржЗржорзЗржЬрзЗрж░ рж╕рж╛ржЗржЬ ржХржорж╛ржирзЛрж░ ржорзНржпрж╛ржЬрж┐ржХ ЁЯкД&quot;">тАЛ</a></h1><p>ржбржХрж╛рж░ ржЗржорзЗржЬ рждрзИрж░рж┐ ржХрж░рж╛рж░ рж╕ржорзЯ ржЖржорж╛ржжрзЗрж░ ржЕржирзЗржХ ржЯрзБрж▓рж╕ ржПржмржВ ржлрж╛ржЗрж▓ ржкрзНрж░рзЯрзЛржЬржи рж╣рзЯ (ржпрзЗржоржи: ржХржорзНржкрж╛ржЗрж▓рж╛рж░, рж╕рзЛрж░рзНрж╕ ржХрзЛржб, ржмрж┐рж▓рзНржб ржЯрзБрж▓рж╕)ред ржХрж┐ржирзНрждрзБ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи рж░рж╛ржи ржХрж░рж╛рж░ рж╕ржорзЯ ржПржЗ рж╕ржмржХрж┐ржЫрзБрж░ ржкрзНрж░рзЯрзЛржЬржи рж╣рзЯ ржирж╛ред <strong>Multi-Stage Build</strong> рж╣рж▓рзЛ ржПржоржи ржПржХржЯрж┐ ржкржжрзНржзрждрж┐ ржпрж╛рж░ ржорж╛ржзрзНржпржорзЗ ржЖржорж░рж╛ ржЗржорзЗржЬрзЗрж░ рж╕рж╛ржЗржЬ ржЕржирзЗржХ ржХржорж┐рзЯрзЗ ржЖржирждрзЗ ржкрж╛рж░рж┐ ржПржмржВ рж╕рж┐ржХрж┐ржЙрж░рж┐ржЯрж┐ ржмрж╛рзЬрж╛рждрзЗ ржкрж╛рж░рж┐ред</p><hr><h2 id="рзз-multi-stage-build-ржХрж┐" tabindex="-1">рзз. Multi-Stage Build ржХрж┐? <a class="header-anchor" href="#рзз-multi-stage-build-ржХрж┐" aria-label="Permalink to &quot;рзз. Multi-Stage Build ржХрж┐?&quot;">тАЛ</a></h2><p>ржПржХржЯрж┐ ржорж╛рждрзНрж░ Dockerfile-ржП ржПржХрж╛ржзрж┐ржХ <code>FROM</code> ржЗржирзНрж╕ржЯрзНрж░рж╛ржХрж╢ржи ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ржХрзЗржЗ Multi-Stage Build ржмрж▓рж╛ рж╣рзЯред ржкрзНрж░рждрж┐ржЯрж┐ <code>FROM</code> ржПржХржЯрж┐ ржирждрзБржи <strong>Stage</strong> рж╢рзБрж░рзБ ржХрж░рзЗред ржЖржкржирж┐ ржПржХ рж╕рзНржЯрзЗржЬ ржерзЗржХрзЗ ржЕржирзНржп рж╕рзНржЯрзЗржЬрзЗ ржкрзНрж░рзЯрзЛржЬржирзАрзЯ ржлрж╛ржЗрж▓ ржХржкрж┐ ржХрж░рзЗ ржирж┐рзЯрзЗ ржЖрж╕рждрзЗ ржкрж╛рж░рзЗржи ржПржмржВ ржЕржкрзНрж░рзЯрзЛржЬржирзАрзЯ ржлрж╛ржЗрж▓ржЧрзБрж▓рзЛржХрзЗ ржкрзЗржЫржирзЗ ржлрзЗрж▓рзЗ ржЖрж╕рждрзЗ ржкрж╛рж░рзЗржиред</p><hr><h2 id="рзи-ржХрзЗржи-ржПржЯрж┐-ржкрзНрж░ржпрж╝рзЗрж╛ржЬржи-ржЙржкржХрж╛рж░рж┐рждрж╛" tabindex="-1">рзи. ржХрзЗржи ржПржЯрж┐ ржкрзНрж░рзЯрзЛржЬржи? (ржЙржкржХрж╛рж░рж┐рждрж╛) <a class="header-anchor" href="#рзи-ржХрзЗржи-ржПржЯрж┐-ржкрзНрж░ржпрж╝рзЗрж╛ржЬржи-ржЙржкржХрж╛рж░рж┐рждрж╛" aria-label="Permalink to &quot;рзи. ржХрзЗржи ржПржЯрж┐ ржкрзНрж░рзЯрзЛржЬржи? (ржЙржкржХрж╛рж░рж┐рждрж╛)&quot;">тАЛ</a></h2><ul><li><strong>ржЗржорзЗржЬ рж╕рж╛ржЗржЬ ржХржорж╛ржирзЛ:</strong> ржмрж┐рж▓рзНржб ржХрж░рж╛рж░ ржЯрзБрж▓рж╕ (ржпрзЗржоржи: 1GB-ржПрж░ SDK) ржмрж╛ржж ржжрж┐рзЯрзЗ рж╢рзБржзрзБржорж╛рждрзНрж░ ржЪрж╛рж▓рж╛ржирзЛрж░ ржЙржкржпрзЛржЧрзА ржлрж╛ржЗрж▓ (ржпрзЗржоржи: 10MB-ржПрж░ ржмрж╛ржЗржирж╛рж░рж┐) ржЗржорзЗржЬрзЗ рж░рж╛ржЦрж╛ рж╣рзЯред</li><li><strong>рж╕рж┐ржХрж┐ржЙрж░рж┐ржЯрж┐:</strong> ржЗржорзЗржЬрзЗ ржпржд ржХржо ржлрж╛ржЗрж▓ ржерж╛ржХржмрзЗ, ржЕрзНржпрж╛ржЯрж╛ржХ рж╣ржУрзЯрж╛рж░ рж╕рзБржпрзЛржЧ рждржд ржХржо ржерж╛ржХржмрзЗред</li><li><strong>ржмрж┐рж▓рзНржб ржЕржкрзНржЯрж┐ржорж╛ржЗржЬрзЗрж╢ржи:</strong> ржмрж┐рж▓рзНржб ржПржмржВ рж░рж╛ржи-ржЯрж╛ржЗржо ржПржиржнрж╛рзЯрж░ржиржорзЗржирзНржЯ ржЖрж▓рж╛ржжрж╛ рж░рж╛ржЦрж╛ ржпрж╛рзЯред</li></ul><hr><h2 id="рзй-ржкрзНрж░рзНржпрж╛ржХржЯрж┐ржХрзНржпрж╛рж▓-ржЙржжрж╛рж╣рж░ржг-node-js-app" tabindex="-1">рзй. ржкрзНрж░рзНржпрж╛ржХржЯрж┐ржХрзНржпрж╛рж▓ ржЙржжрж╛рж╣рж░ржг (Node.js App) <a class="header-anchor" href="#рзй-ржкрзНрж░рзНржпрж╛ржХржЯрж┐ржХрзНржпрж╛рж▓-ржЙржжрж╛рж╣рж░ржг-node-js-app" aria-label="Permalink to &quot;рзй. ржкрзНрж░рзНржпрж╛ржХржЯрж┐ржХрзНржпрж╛рж▓ ржЙржжрж╛рж╣рж░ржг (Node.js App)&quot;">тАЛ</a></h2><p>ржирж┐ржЪрзЗ ржПржХржЯрж┐ ржЖржжрж░рзНрж╢ Multi-Stage Dockerfile ржжрзЗржЦрж╛ржирзЛ рж╣рж▓рзЛ:</p><div class="language-dockerfile vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">dockerfile</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"># рзз. ржмрж┐рж▓рзНржб рж╕рзНржЯрзЗржЬ (Build Stage)</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">FROM</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> node:16 </span><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">AS</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> builder</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">WORKDIR</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> /app</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">COPY</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> package*.json ./</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">RUN</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> npm install</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">COPY</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> . .</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">RUN</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> npm run build</span></span>
<span class="line"></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"># рзи. ржкрзНрж░рзЛржбрж╛ржХрж╢ржи рж╕рзНржЯрзЗржЬ (Production Stage)</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">FROM</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> node:16-alpine</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">WORKDIR</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> /app</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"># ржЖржЧрзЗрж░ рж╕рзНржЯрзЗржЬ (builder) ржерзЗржХрзЗ рж╢рзБржзрзБржорж╛рждрзНрж░ ржмрж┐рж▓рзНржб ржХрж░рж╛ ржлрж╛ржЗрж▓ ржХржкрж┐ ржХрж░рж╛</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">COPY</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> --from=builder /app/dist ./dist</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">CMD</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> [</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;node&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">, </span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;dist/index.js&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">]</span></span></code></pre></div><h3 id="ржПржЦрж╛ржирзЗ-ржХрж┐-ржШржЯржЫрзЗ" tabindex="-1">ржПржЦрж╛ржирзЗ ржХрж┐ ржШржЯржЫрзЗ? <a class="header-anchor" href="#ржПржЦрж╛ржирзЗ-ржХрж┐-ржШржЯржЫрзЗ" aria-label="Permalink to &quot;ржПржЦрж╛ржирзЗ ржХрж┐ ржШржЯржЫрзЗ?&quot;">тАЛ</a></h3><ul><li><strong><code>AS builder</code></strong>: ржкрзНрж░ржержо рж╕рзНржЯрзЗржЬржЯрж┐рж░ ржПржХржЯрж┐ ржирж╛ржо ржжрзЗржУрзЯрж╛ рж╣рзЯрзЗржЫрзЗ ржпрж╛рждрзЗ ржкрж░рзЗ ржПржЯрж┐ржХрзЗ рж░рзЗржлрж╛рж░ ржХрж░рж╛ ржпрж╛рзЯред</li><li><strong><code>COPY --from=builder</code></strong>: ржПржЯрж┐ржЗ ржЖрж╕рж▓ ржорзНржпрж╛ржЬрж┐ржХ! ржПржЯрж┐ ржЖржЧрзЗрж░ рж╕рзНржЯрзЗржЬ ржерзЗржХрзЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржлрж╛ржЗрж▓ ржмрж╛ ржлрзЛрж▓рзНржбрж╛рж░ ржирж┐рзЯрзЗ ржЖрж╕рзЗред</li><li><strong>Alpine Base Image</strong>: рж╕рзЗржХрзЗржирзНржб рж╕рзНржЯрзЗржЬрзЗ ржЫрзЛржЯ рж╕рж╛ржЗржЬрзЗрж░ <code>alpine</code> ржЗржорзЗржЬ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЗржорзЗржЬрзЗрж░ рж╕рж╛ржЗржЬ ржЖрж░ржУ ржХржорж┐рзЯрзЗ ржЖржирж╛ рж╣рзЯрзЗржЫрзЗред</li></ul><hr><h2 id="рзк-single-stage-vs-multi-stage" tabindex="-1">рзк. Single-Stage vs Multi-Stage <a class="header-anchor" href="#рзк-single-stage-vs-multi-stage" aria-label="Permalink to &quot;рзк. Single-Stage vs Multi-Stage&quot;">тАЛ</a></h2><table tabindex="0"><thead><tr><th style="${ssrRenderStyle({ "text-align": "left" })}">ржлрж┐ржЪрж╛рж░</th><th style="${ssrRenderStyle({ "text-align": "left" })}">Single-Stage</th><th style="${ssrRenderStyle({ "text-align": "left" })}">Multi-Stage</th></tr></thead><tbody><tr><td style="${ssrRenderStyle({ "text-align": "left" })}"><strong>Size</strong></td><td style="${ssrRenderStyle({ "text-align": "left" })}">ржЕржирзЗржХ ржмрзЬ (Large)</td><td style="${ssrRenderStyle({ "text-align": "left" })}">ржЕрждрзНржпржирзНржд ржЫрзЛржЯ (Minimal)</td></tr><tr><td style="${ssrRenderStyle({ "text-align": "left" })}"><strong>Files</strong></td><td style="${ssrRenderStyle({ "text-align": "left" })}">рж╕рзЛрж░рзНрж╕ ржХрзЛржб + ржмрж┐рж▓рзНржб ржЯрзБрж▓рж╕ рж╕ржм ржерж╛ржХрзЗ</td><td style="${ssrRenderStyle({ "text-align": "left" })}">рж╢рзБржзрзБржорж╛рждрзНрж░ ржкрзНрж░рзЛржбрж╛ржХрж╢ржи ржлрж╛ржЗрж▓ ржерж╛ржХрзЗ</td></tr><tr><td style="${ssrRenderStyle({ "text-align": "left" })}"><strong>Security</strong></td><td style="${ssrRenderStyle({ "text-align": "left" })}">ржХржо ржирж┐рж░рж╛ржкржж</td><td style="${ssrRenderStyle({ "text-align": "left" })}">ржмрзЗрж╢рж┐ ржирж┐рж░рж╛ржкржж</td></tr></tbody></table><hr><div class="tip custom-block github-alert"><p class="custom-block-title">TIP</p><p>ржкрзНрж░рзЛржбрж╛ржХрж╢ржирзЗрж░ ржЬржирзНржп ржЗржорзЗржЬ рждрзИрж░рж┐ ржХрж░рж╛рж░ рж╕ржорзЯ рж╕ржмрж╕ржорзЯ Multi-Stage ржкржжрзНржзрждрж┐ ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржмрзЗржиред ржПржЯрж┐ ржЖржкржирж╛рж░ ржХрзНрж▓рж╛ржЙржб рж╕рзНржЯрзЛрж░рзЗржЬрзЗрж░ ржЦрж░ржЪ ржмрж╛ржБржЪрж╛ржмрзЗ ржПржмржВ ржбрзЗржкрзНрж▓рзЯржорзЗржирзНржЯ ржжрзНрж░рзБржд ржХрж░ржмрзЗред</p></div></div>`);
}
const _sfc_setup = _sfc_main.setup;
_sfc_main.setup = (props, ctx) => {
  const ssrContext = useSSRContext();
  (ssrContext.modules || (ssrContext.modules = /* @__PURE__ */ new Set())).add("docker/multi-stage-builds.md");
  return _sfc_setup ? _sfc_setup(props, ctx) : void 0;
};
const multiStageBuilds = /* @__PURE__ */ _export_sfc(_sfc_main, [["ssrRender", _sfc_ssrRender]]);
export {
  __pageData,
  multiStageBuilds as default
};
