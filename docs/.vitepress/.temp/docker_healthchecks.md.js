import { ssrRenderAttrs, ssrRenderStyle } from "vue/server-renderer";
import { useSSRContext } from "vue";
import { _ as _export_sfc } from "./plugin-vue_export-helper.1tPrXgE0.js";
const __pageData = JSON.parse('{"title":"Docker Health Checks ЁЯПе","description":"","frontmatter":{},"headers":[],"relativePath":"docker/healthchecks.md","filePath":"docker/healthchecks.md"}');
const _sfc_main = { name: "docker/healthchecks.md" };
function _sfc_ssrRender(_ctx, _push, _parent, _attrs, $props, $setup, $data, $options) {
  _push(`<div${ssrRenderAttrs(_attrs)}><h1 id="docker-health-checks-ЁЯПе" tabindex="-1">Docker Health Checks ЁЯПе <a class="header-anchor" href="#docker-health-checks-ЁЯПе" aria-label="Permalink to &quot;Docker Health Checks ЁЯПе&quot;">тАЛ</a></h1><p>ржбржХрж╛рж░ ржХржирзНржЯрзЗржЗржирж╛рж░ ржЪрж▓ржЫрзЗ (Running) ржорж╛ржирзЗржЗ ржПржЗ ржирзЯ ржпрзЗ ржЖржкржирж╛рж░ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржиржЯрж┐ рж╕ржарж┐ржХржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░ржЫрзЗред ржПржХржЯрж┐ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи рж╣рзНржпрж╛ржВ рж╣рзЯрзЗ ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗ ржмрж╛ ржЗржирзНржЯрж╛рж░ржирж╛рж▓ ржПрж░рж░рзЗрж░ ржХрж╛рж░ржгрзЗ рж░рзЗрж╕ржкржирзНрж╕ ржирж╛ржУ ржХрж░рждрзЗ ржкрж╛рж░рзЗред ржПржЗ ржЕржмрж╕рзНржерж╛ рж╢ржирж╛ржХрзНржд ржХрж░рж╛рж░ ржЬржирзНржпржЗ <strong>Health Checks</strong> ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯред</p><hr><h2 id="рзз-health-check-ржХрж┐" tabindex="-1">рзз. Health Check ржХрж┐? <a class="header-anchor" href="#рзз-health-check-ржХрж┐" aria-label="Permalink to &quot;рзз. Health Check ржХрж┐?&quot;">тАЛ</a></h2><p>Health Check рж╣рж▓рзЛ ржПржХржЯрж┐ ржорзЗржХрж╛ржирж┐ржЬржо ржпрж╛рж░ ржорж╛ржзрзНржпржорзЗ ржбржХрж╛рж░ ржЗржЮрзНржЬрж┐ржи ржирж┐рзЯржорж┐ржд ржмрж┐рж░рждрж┐рждрзЗ ржХржирзНржЯрзЗржЗржирж╛рж░рзЗрж░ ржнрзЗрждрж░рзЗ ржПржХржЯрж┐ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХржорж╛ржирзНржб рж░рж╛ржи ржХрж░рзЗ ржкрж░рзАржХрзНрж╖рж╛ ржХрж░рзЗ ржжрзЗржЦрзЗ ржпрзЗ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржиржЯрж┐ рж╕рзБрж╕рзНрже (Healthy) ржЖржЫрзЗ ржХрж┐ржирж╛ред</p><p>ржХржирзНржЯрзЗржЗржирж╛рж░рзЗрж░ рждрж┐ржиржЯрж┐ ржЕржмрж╕рзНржерж╛ рж╣рждрзЗ ржкрж╛рж░рзЗ:</p><ul><li><strong>Starting:</strong> ржХржирзНржЯрзЗржЗржирж╛рж░ рж╢рзБрж░рзБ рж╣ржЪрзНржЫрзЗ ржХрж┐ржирзНрждрзБ ржПржЦржирзЛ рж╣рзЗрж▓рже ржЪрзЗржХ рж╢рзЗрж╖ рж╣рзЯржирж┐ред</li><li><strong>Healthy:</strong> ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржиржЯрж┐ ржарж┐ржХржорждрзЛ ржХрж╛ржЬ ржХрж░ржЫрзЗред</li><li><strong>Unhealthy:</strong> ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржиржЯрж┐ рж░рзЗрж╕ржкржирзНрж╕ ржХрж░ржЫрзЗ ржирж╛ ржмрж╛ ржПрж░рж░ ржжрж┐ржЪрзНржЫрзЗред</li></ul><hr><h2 id="рзи-dockerfile-ржП-healthcheck-ржЗржирзНрж╕ржЯрзНрж░рж╛ржХрж╢ржи" tabindex="-1">рзи. Dockerfile-ржП HEALTHCHECK ржЗржирзНрж╕ржЯрзНрж░рж╛ржХрж╢ржи <a class="header-anchor" href="#рзи-dockerfile-ржП-healthcheck-ржЗржирзНрж╕ржЯрзНрж░рж╛ржХрж╢ржи" aria-label="Permalink to &quot;рзи. Dockerfile-ржП HEALTHCHECK ржЗржирзНрж╕ржЯрзНрж░рж╛ржХрж╢ржи&quot;">тАЛ</a></h2><p>ржЖржкржирж┐ Dockerfile-ржП <code>HEALTHCHECK</code> ржХржорж╛ржирзНржб ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ рж╣рзЗрж▓рже ржЪрзЗржХ ржбрж┐ржлрж╛ржЗржи ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред</p><div class="language-dockerfile vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">dockerfile</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"># ржкрзНрж░рждрж┐ рзйрзж рж╕рзЗржХрзЗржирзНржб ржкрж░ ржкрж░ ржЪрзЗржХ ржХрж░ржмрзЗ</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"># рзй рж╕рзЗржХрзЗржирзНржбрзЗрж░ ржоржзрзНржпрзЗ рж░рзЗрж╕ржкржирзНрж╕ ржирж╛ ржкрзЗрж▓рзЗ ржлрзЗржЗрж▓ ржзрж░ржмрзЗ</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#6A737D", "--shiki-dark": "#6A737D" })}"># ржЯрж╛ржирж╛ рзй ржмрж╛рж░ ржлрзЗржЗрж▓ ржХрж░рж▓рзЗ ржХржирзНржЯрзЗржЗржирж╛рж░ржХрзЗ Unhealthy ржШрзЛрж╖ржгрж╛ ржХрж░ржмрзЗ</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">HEALTHCHECK</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> --interval=30s --timeout=3s --retries=3 \\</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#D73A49", "--shiki-dark": "#F97583" })}">  CMD</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}"> curl -f http://localhost/ || exit 1</span></span></code></pre></div><ul><li><code>--interval</code>: ржХржд рж╕ржорзЯ ржкрж░ржкрж░ ржЪрзЗржХ ржХрж░ржмрзЗ (Default: 30s)ред</li><li><code>--timeout</code>: ржХржорж╛ржирзНржбржЯрж┐ рж╢рзЗрж╖ рж╣рждрзЗ рж╕рж░рзНржмрзЛржЪрзНржЪ ржХржд рж╕ржорзЯ ржирзЗржмрзЗ (Default: 30s)ред</li><li><code>--retries</code>: ржХрждржмрж╛рж░ ржлрзЗржЗрж▓ ржХрж░рж▓рзЗ Unhealthy ржзрж░рж╛ рж╣ржмрзЗ (Default: 3).</li><li><code>--start-period</code>: ржХржирзНржЯрзЗржЗржирж╛рж░ рж╢рзБрж░рзБ рж╣ржУрзЯрж╛рж░ ржкрж░ ржХрждржХрзНрж╖ржг рж╣рзЗрж▓рже ржЪрзЗржХ ржмржирзНржз ржерж╛ржХржмрзЗ (ржпрж╛рждрзЗ ржЕрзНржпрж╛ржк ржмрзБржЯ рж╣ржУрзЯрж╛рж░ рж╕ржорзЯ ржкрж╛рзЯ)ред</li></ul><hr><h2 id="рзй-docker-compose-ржП-health-check" tabindex="-1">рзй. Docker Compose-ржП Health Check <a class="header-anchor" href="#рзй-docker-compose-ржП-health-check" aria-label="Permalink to &quot;рзй. Docker Compose-ржП Health Check&quot;">тАЛ</a></h2><p>ржбржХрж╛рж░ ржХржорзНржкрзЛржЬ ржлрж╛ржЗрж▓рзЗ ржЖржкржирж┐ ржЖрж░ржУ рж╕рж╣ржЬрзЗ рж╣рзЗрж▓рже ржЪрзЗржХ ржХржиржлрж┐ржЧрж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗржи:</p><div class="language-yaml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">services</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">:</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">  web</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">:</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">    image</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">: </span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">my-web-app</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">    healthcheck</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">:</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">      test</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">: [</span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;CMD&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">, </span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;curl&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">, </span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;-f&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">, </span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">&quot;http://localhost&quot;</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">]</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">      interval</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">: </span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">30s</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">      timeout</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">: </span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">10s</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">      retries</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">: </span><span style="${ssrRenderStyle({ "--shiki-light": "#005CC5", "--shiki-dark": "#79B8FF" })}">3</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">      start_period</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">: </span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">40s</span></span>
<span class="line"><span style="${ssrRenderStyle({ "--shiki-light": "#22863A", "--shiki-dark": "#85E89D" })}">    restart</span><span style="${ssrRenderStyle({ "--shiki-light": "#24292E", "--shiki-dark": "#E1E4E8" })}">: </span><span style="${ssrRenderStyle({ "--shiki-light": "#032F62", "--shiki-dark": "#9ECBFF" })}">always</span></span></code></pre></div><hr><h2 id="рзк-ржХрзЗржи-health-check-ржкрзНрж░ржпрж╝рзЗрж╛ржЬржи" tabindex="-1">рзк. ржХрзЗржи Health Check ржкрзНрж░рзЯрзЛржЬржи? <a class="header-anchor" href="#рзк-ржХрзЗржи-health-check-ржкрзНрж░ржпрж╝рзЗрж╛ржЬржи" aria-label="Permalink to &quot;рзк. ржХрзЗржи Health Check ржкрзНрж░рзЯрзЛржЬржи?&quot;">тАЛ</a></h2><ul><li><strong>Self-Healing:</strong> ржпржжрж┐ ржХрзЛржирзЛ ржХржирзНржЯрзЗржЗржирж╛рж░ <code>Unhealthy</code> рж╣рзЯрзЗ ржпрж╛рзЯ, рждржмрзЗ ржбржХрж╛рж░ (ржмрж╛ ржЕрж░рзНржХрзЗрж╕рзНржЯрзНрж░рзЗржЯрж░ ржпрзЗржоржи Swarm/K8s) рж╕рзЗржЯрж┐ржХрзЗ ржЕржЯрзЛржорзЗржЯрж┐ржХ рж░рж┐рж╕рзНржЯрж╛рж░рзНржЯ ржХрж░рждрзЗ ржкрж╛рж░рзЗред</li><li><strong>Load Balancer Integration:</strong> рж▓рзЛржб ржмрзНржпрж╛рж▓рзЗржирзНрж╕рж╛рж░ рж╢рзБржзрзБржорж╛рждрзНрж░ <code>Healthy</code> ржХржирзНржЯрзЗржЗржирж╛рж░ржЧрзБрж▓рзЛрждрзЗ ржЯрзНрж░рж╛ржлрж┐ржХ ржкрж╛ржарж╛ржмрзЗред ржпржжрж┐ ржХрзЛржирзЛ ржХржирзНржЯрзЗржЗржирж╛рж░ ржбрж╛ржЙржи ржерж╛ржХрзЗ, рждржмрзЗ ржЗржЙржЬрж╛рж░ рж╕рзЗржЯрж┐ ржЯрзЗрж░ ржкрж╛ржмрзЗ ржирж╛ред</li><li><strong>Zero-Downtime Deployment:</strong> ржЖржкржбрзЗржЯ ржжрзЗржУрзЯрж╛рж░ рж╕ржорзЯ ржирждрзБржи ржХржирзНржЯрзЗржЗржирж╛рж░ ржкрзБрж░рзЛржкрзБрж░рж┐ <code>Healthy</code> ржирж╛ рж╣ржУрзЯрж╛ ржкрж░рзНржпржирзНржд ржкрзБрж░ржирзЛ ржХржирзНржЯрзЗржЗржирж╛рж░ ржмржирзНржз ржХрж░рж╛ рж╣рзЯ ржирж╛ред</li></ul><hr><h2 id="рзл-ржмрзЗрж╕рзНржЯ-ржкрзНрж░рзНржпрж╛ржХржЯрж┐рж╕-best-practices" tabindex="-1">рзл. ржмрзЗрж╕рзНржЯ ржкрзНрж░рзНржпрж╛ржХржЯрж┐рж╕ (Best Practices) <a class="header-anchor" href="#рзл-ржмрзЗрж╕рзНржЯ-ржкрзНрж░рзНржпрж╛ржХржЯрж┐рж╕-best-practices" aria-label="Permalink to &quot;рзл. ржмрзЗрж╕рзНржЯ ржкрзНрж░рзНржпрж╛ржХржЯрж┐рж╕ (Best Practices)&quot;">тАЛ</a></h2><ul><li><strong>рж╕ржарж┐ржХ ржХржорж╛ржирзНржб ржирж┐рж░рзНржмрж╛ржЪржи:</strong> рж╢рзБржзрзБржорж╛рждрзНрж░ <code>curl</code> ржирзЯ, ржкрзНрж░рзЯрзЛржЬржи рж╣рж▓рзЗ ржбрж╛ржЯрж╛ржмрзЗрж╕ ржХрж╛ржирзЗржХрж╢ржи ржмрж╛ рж╕рзНржкрзЗрж╕рж┐ржлрж┐ржХ рж╣рзЗрж▓рже ржПржирзНржбржкрзЯрзЗржирзНржЯ (<code>/health</code>) ржЪрзЗржХ ржХрж░рзБржиред</li><li><strong>рж░рж┐рж╕рзЛрж░рзНрж╕ рж╕ржЪрзЗрждржирждрж╛:</strong> рж╣рзЗрж▓рже ржЪрзЗржХ ржХржорж╛ржирзНржб ржпрзЗржи ржЦрзБржм ржмрзЗрж╢рж┐ рж╣рзЗржнрж┐ (Heavy) ржирж╛ рж╣рзЯ, ржХрж╛рж░ржг ржПржЯрж┐ ржШржиржШржи рж░рж╛ржи рж╣рзЯред</li><li><strong>exit ржХрзЛржб:</strong> ржХржорж╛ржирзНржбржЯрж┐ рж╕ржлрж▓ рж╣рж▓рзЗ <code>exit 0</code> ржПржмржВ ржмрзНржпрж░рзНрже рж╣рж▓рзЗ <code>exit 1</code> рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рждрзЗ рж╣ржмрзЗред</li></ul><hr><h2 id="рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк-summary" tabindex="-1">рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк (Summary) <a class="header-anchor" href="#рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк-summary" aria-label="Permalink to &quot;рж╕рж╛рж░рж╕ржВржХрзНрж╖рзЗржк (Summary)&quot;">тАЛ</a></h2><p>ржкрзНрж░рзЛржбрж╛ржХрж╢ржи ржПржиржнрж╛ржпрж╝рж░ржиржорзЗржирзНржЯрзЗ рж╣рж╛ржЗ-ржЕрзНржпрж╛ржнрзЗржЗрж▓рзЗржмрж┐рж▓рж┐ржЯрж┐ (High Availability) ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рждрзЗ Health Check ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржЕржкрж░рж┐рж╣рж╛рж░рзНржпред ржПржЯрж┐ ржЖржкржирж╛рж░ рж╕рж┐рж╕рзНржЯрзЗржорзЗрж░ рж╕рзНржЯрзНржпрж╛ржмрж┐рж▓рж┐ржЯрж┐ ржмрж╛рзЬрж╛рждрзЗ ржПржмржВ ржорзНржпрж╛ржирзБрзЯрж╛рж▓ ржЗржирзНржЯрж╛рж░ржнрзЗржирж╢ржи ржХржорж╛рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред</p><hr><div class="tip custom-block github-alert"><p class="custom-block-title">TIP</p><p>ржЖржкржирж╛рж░ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржирзЗ ржПржХржЯрж┐ ржбрзЗржбрж┐ржХрзЗржЯрзЗржб <code>/health</code> ржмрж╛ <code>/status</code> ржПржирзНржбржкрзЯрзЗржирзНржЯ рждрзИрж░рж┐ ржХрж░рзБржи ржпрж╛ ржбрж╛ржЯрж╛ржмрзЗрж╕ ржПржмржВ ржЕржирзНржпрж╛ржирзНржп рж╕рж╛рж░рзНржнрж┐рж╕рзЗрж░ ржЕржмрж╕рзНржерж╛ ржЪрзЗржХ ржХрж░рзЗ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░ржмрзЗред</p></div></div>`);
}
const _sfc_setup = _sfc_main.setup;
_sfc_main.setup = (props, ctx) => {
  const ssrContext = useSSRContext();
  (ssrContext.modules || (ssrContext.modules = /* @__PURE__ */ new Set())).add("docker/healthchecks.md");
  return _sfc_setup ? _sfc_setup(props, ctx) : void 0;
};
const healthchecks = /* @__PURE__ */ _export_sfc(_sfc_main, [["ssrRender", _sfc_ssrRender]]);
export {
  __pageData,
  healthchecks as default
};
